(function(e){function t(t){for(var i,o,s=t[0],c=t[1],u=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={index:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"08b1":function(e,t,n){"use strict";n("a44d")},"0d24":function(e,t,n){},1300:function(e,t,n){"use strict";n("56e4")},"18d5":function(e,t,n){"use strict";n("9568")},"1c25":function(e,t,n){"use strict";n("4257")},"1d7e":function(e,t,n){},"1f35":function(e,t,n){},"25d4":function(e,t,n){},"293e":function(e,t,n){"use strict";n("9818")},"2b2c":function(e,t,n){},"2f9b":function(e,t,n){},"35f0":function(e,t,n){},"383e":function(e,t,n){"use strict";n("25d4")},"3d86":function(e,t,n){},4257:function(e,t,n){},"44a5":function(e,t,n){"use strict";n("b48b")},"4c5b":function(e,t,n){"use strict";n("e5b6")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var i=n("2b0e"),r=n("5f5b");n("ab8b"),n("2dd8");i["default"].use(r["a"]);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.getClass(),attrs:{id:"app"}},[n("NavBar"),e.configLoading?e._e():n("router-view")],1)},o=[],s=n("5530"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",["/"!==e.$route.path?n("b-navbar-brand",{attrs:{to:"/"}},[n("Sist2Icon")],1):n("b-navbar-brand",{attrs:{href:"."}},[n("Sist2Icon")],1),e.$store&&e.$store.state.sist2Info?n("span",{staticClass:"badge badge-pill version"},[e._v(" v"+e._s(e.sist2Version())),e.isDebug()?n("span",[e._v("-dbg")]):e._e(),e.isLegacy()&&!e.hideLegacy()?n("span",[e._v("-"),n("a",{attrs:{href:"https://github.com/simon987/sist2/blob/master/docs/USAGE.md#elasticsearch",target:"_blank"}},[e._v("legacyES")])]):e._e()]):e._e(),e.$store&&e.$store.state.sist2Info?n("span",{staticClass:"tagline",domProps:{innerHTML:e._s(e.tagline())}}):e._e(),n("b-button",{staticClass:"ml-auto",attrs:{to:"stats",variant:"link"}},[e._v(e._s(e.$t("stats")))]),n("b-button",{attrs:{to:"config",variant:"link"}},[e._v(e._s(e.$t("config")))])],1)},u=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"27.868069mm",height:"7.6446671mm",viewBox:"0 0 27.868069 7.6446671"}},[n("g",{attrs:{transform:"translate(-4.5018313,-4.1849793)"}},[n("g",{staticStyle:{fill:"currentColor","fill-opacity":"1",stroke:"none","stroke-width":"0.26458332"}},[n("path",{staticStyle:{"stroke-width":"0.26458332"},attrs:{d:"m 6.3153296,11.829646 q -0.7717014,0 -1.8134983,-0.337619 v -0.916395 q 1.0128581,0.511252 1.803852,0.511252 0.5643067,0 0.901926,-0.236334 0.3376194,-0.236333 0.3376194,-0.63183 0,-0.3424428 -0.2845649,-0.5498376 Q 6.980922,9.4566645 6.3635609,9.3264399 L 5.9921796,9.2492698 Q 5.2301245,9.0949295 4.8732126,8.7428407 4.5211238,8.3859288 4.5211238,7.7733908 q 0,-0.7765245 0.5305447,-1.1961372 0.5305447,-0.4196126 1.5096409,-0.4196126 0.829579,0 1.6061036,0.3183268 V 7.3441319 Q 7.4101809,6.9004036 6.5854251,6.9004036 q -1.1671984,0 -1.1671984,0.7958171 0,0.2604492 0.1012858,0.4147895 0.1012858,0.1495171 0.3858507,0.2556261 0.2845649,0.1012858 0.8392253,0.2122179 l 0.3569119,0.067524 q 1.3408312,0.2652724 1.3408312,1.4614098 0,0.80064 -0.5691298,1.263661 -0.5691298,0.458197 -1.5578722,0.458197 z"}}),n("path",{staticStyle:{"stroke-width":"0.26458332"},attrs:{d:"m 11.943927,5.3087694 q -0.144694,0 -0.144694,-0.144694 V 4.3296733 q 0,-0.144694 0.144694,-0.144694 h 0.694531 q 0.144694,0 0.144694,0.144694 v 0.8344021 q 0,0.144694 -0.144694,0.144694 z M 13.5645,11.728361 q -0.795817,0 -1.234722,-0.511253 -0.434082,-0.516075 -0.434082,-1.4469398 V 6.9823969 H 10.714028 V 6.2878656 h 2.069124 v 3.4823026 q 0,0.5884228 0.221864,0.8971028 0.221865,0.308681 0.6463,0.308681 h 1.036974 v 0.752409 z"}}),n("path",{staticStyle:{"stroke-width":"0.26458332"},attrs:{d:"m 18.209178,11.829646 q -0.771701,0 -1.813498,-0.337619 v -0.916395 q 1.012858,0.511252 1.803852,0.511252 0.564306,0 0.901926,-0.236334 0.337619,-0.236333 0.337619,-0.63183 0,-0.3424428 -0.284565,-0.5498376 Q 18.87477,9.4566645 18.257409,9.3264399 l -0.371381,-0.07717 Q 17.123973,9.0949295 16.767061,8.7428407 16.414972,8.3859288 16.414972,7.7733908 q 0,-0.7765245 0.530545,-1.1961372 0.530545,-0.4196126 1.509641,-0.4196126 0.829579,0 1.606103,0.3183268 v 0.8681641 q -0.757232,-0.4437283 -1.581988,-0.4437283 -1.167198,0 -1.167198,0.7958171 0,0.2604492 0.101286,0.4147895 0.101286,0.1495171 0.385851,0.2556261 0.284565,0.1012858 0.839225,0.2122179 l 0.356912,0.067524 q 1.340831,0.2652724 1.340831,1.4614098 0,0.80064 -0.56913,1.263661 -0.56913,0.458197 -1.557872,0.458197 z"}}),n("path",{staticStyle:{"stroke-width":"0.26458332"},attrs:{d:"m 25.207545,11.709068 q -0.993565,0 -1.408355,-0.40032 -0.409966,-0.405143 -0.409966,-1.3794164 V 6.9775737 H 21.947107 V 6.2878656 h 1.442117 V 4.8746874 l 0.887457,-0.3858507 v 1.7990289 h 2.016069 v 0.6897081 h -2.016069 v 2.9517579 q 0,0.5932454 0.226687,0.8344024 0.226687,0.236333 0.790994,0.236333 h 0.998388 v 0.709001 z"}}),n("path",{staticStyle:{"stroke-width":"0.26458332"},attrs:{d:"m 27.995317,11.043476 q 0,-0.178456 0.120578,-0.299035 0.274919,-0.289388 0.651123,-0.684885 0.376205,-0.4003199 0.805464,-0.8681638 0.327973,-0.356912 0.491959,-0.5353679 0.16881,-0.1832791 0.255626,-0.2845649 0.09164,-0.1012858 0.178456,-0.2073948 0.255626,-0.3086805 0.405144,-0.5257215 0.15434,-0.2170411 0.250803,-0.4292589 0.168809,-0.3762045 0.168809,-0.7524089 0,-0.5980686 -0.352089,-0.935688 -0.356911,-0.3424425 -0.979096,-0.3424425 -0.863341,0 -1.938899,0.6414768 V 4.8361023 q 0.491959,-0.2363335 0.979096,-0.3569119 0.47749,-0.1205783 0.945334,-0.1205783 0.501606,0 0.940511,0.1350477 0.438905,0.1350478 0.766878,0.4244358 0.289388,0.2556261 0.463021,0.6270074 0.173633,0.3665582 0.173633,0.829579 0,0.4726671 -0.212218,0.9501574 -0.106109,0.2411567 -0.274919,0.4726671 -0.163986,0.2266873 -0.424435,0.540191 Q 31.270225,8.501684 31.077299,8.718725 30.884374,8.9357661 30.628748,9.2106847 30.445469,9.4084332 30.286305,9.5675966 30.131965,9.72676 29.958332,9.9003928 29.7847,10.069203 29.558012,10.300713 29.336148,10.5274 29.012998,10.869843 h 3.356901 v 0.819932 h -4.374582 z"}})])])])},d=[],h={name:"Sist2Icon"},p=h,m=n("2877"),f=Object(m["a"])(p,l,d,!1,null,null,null),g=f.exports,b={name:"NavBar",components:{Sist2Icon:g},methods:{tagline:function(){return this.$store.state.sist2Info.tagline},sist2Version:function(){return this.$store.state.sist2Info.version},isDebug:function(){return this.$store.state.sist2Info.debug},isLegacy:function(){return this.$store.state.sist2Info.esVersionLegacy},hideLegacy:function(){return this.$store.state.optHideLegacy}}},v=b,x=(n("a9ab"),Object(m["a"])(v,c,u,!1,null,"7c014919",null)),y=x.exports,_=n("2f62"),T={components:{NavBar:y},data:function(){return{configLoading:!1}},computed:Object(s["a"])({},Object(_["c"])(["optTheme"])),mounted:function(){var e=this;this.$store.dispatch("loadConfiguration").then((function(){e.$root.$i18n.locale=e.$store.state.optLang})),this.$store.subscribe((function(t){"setOptLang"===t.type&&(e.$root.$i18n.locale=t.payload,e.configLoading=!0,window.setTimeout((function(){return e.configLoading=!1}),10))}))},methods:{getClass:function(){return{"theme-light":"light"===this.optTheme,"theme-black":"black"===this.optTheme}}}},S=T,w=(n("034f"),Object(m["a"])(S,a,o,!1,null,null,null)),$=w.exports,k=n("8c4f"),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[e.loading?n("b-card",[n("Preloader")],1):[n("b-card",[n("b-card-body",[n("b-select",{attrs:{options:e.indexOptions},scopedSlots:e._u([{key:"first",fn:function(){return[n("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v(e._s(e.$t("indexPickerPlaceholder")))])]},proxy:!0}]),model:{value:e.selectedIndex,callback:function(t){e.selectedIndex=t},expression:"selectedIndex"}})],1)],1),null!==e.selectedIndex?n("b-card",{staticClass:"mt-3"},[n("b-card-body",[n("D3Treemap",{attrs:{"index-id":e.selectedIndex}})],1)],1):e._e(),null!==e.selectedIndex?n("b-card",{staticClass:"stats-card mt-3"},[n("D3MimeBarCount",{attrs:{"index-id":e.selectedIndex}}),n("D3MimeBarSize",{attrs:{"index-id":e.selectedIndex}}),n("D3DateHistogram",{attrs:{"index-id":e.selectedIndex}}),n("D3SizeHistogram",{attrs:{"index-id":e.selectedIndex}})],1):e._e()]],2)},M=[],C=(n("d81d"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-btn",{staticStyle:{float:"right","margin-bottom":"10px"},attrs:{variant:"primary"},on:{click:function(t){return e.downloadTreemap()}}},[e._v(" "+e._s(e.$t("download"))+" ")]),n("svg",{attrs:{id:"treemap"}})],1)}),O=[],I=n("2909"),L=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("4e82"),n("a15b"),n("99af"),n("a434"),n("4de4"),n("2b3d"),n("9861"),n("159b"),n("ac1f"),n("1276"),n("a9e3"),n("5698"));n("b64b");function D(e,t,n,i){var r=window.innerWidth<=650;r&&(t=25);var a="rtl"===getComputedStyle(e).direction,o="rtl"===e.noUiSlider.options.direction,s="vertical"===e.noUiSlider.options.orientation,c=e.noUiSlider.getTooltips(),u=e.noUiSlider.getOrigins();c.forEach((function(e,t){e&&u[t].appendChild(e)})),e.noUiSlider.on("update",(function(e,r,u,l,d){var h=[[]],p=[[]],m=[[]],f=0;c[0]&&(h[0][0]=0,p[0][0]=d[0],m[0][0]=e[0]);for(var g=1;g<d.length;g++)(!c[g]||d[g]-d[g-1]>t)&&(f++,h[f]=[],m[f]=[],p[f]=[]),c[g]&&(h[f].push(g),m[f].push(e[g]),p[f].push(d[g]));if(h.forEach((function(e,t){for(var i=e.length,r=0;r<i;r++){var u=e[r];if(r===i-1){var l=0;p[t].forEach((function(e){l+=1e3-10*e}));var d=s?"bottom":"right",h=o?0:i-1,f=1e3-10*p[t][h];l=(a&&!s?100:0)+l/i-f,c[u].innerHTML=m[t].join(n),c[u].style.display="block",c[u].style[d]=l+"%"}else c[u].style.display="none"}})),i){var b=window.innerWidth<=650,v=b?20:5;d[0]<v?c[0].style.right="".concat(-35*(1-d[0]/v),"px"):c[0].style.right="0",d[1]>100-v?c[1].style.right="".concat((d[1]-(100-v))/v*35,"px"):c[1].style.right="0"}}))}function P(e,t,n){var i={};e.forEach((function(e){var n=i;e.taxonomy.forEach((function(e){n[e]=e in n?n[e]:{},n=n[e]})),0===Object.keys(n).length?n["$size$"]=e.size:t&&(n["."]={$size$:e.size})}));var r=function e(t,n){return Object.keys(t).filter((function(e){return"$size$"!==e})).map((function(i){var r={name:i,depth:n,value:0,children:e(t[i],n+1)};return"$size$"in t[i]&&(r.value=t[i]["$size$"]),r}))};return{name:n,children:r(i,1),value:0,depth:0}}n("fb6a"),n("b680"),n("6062"),n("a630"),n("5319"),n("5b81");function E(e){return q(e._source)}function q(e){return Object.prototype.hasOwnProperty.call(e,"extension")&&""!==e["extension"]?"."+e["extension"]:""}function j(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=e[n+1];"]"===i?"]"===r?(t+=i,n+=1):(t+=String.fromCharCode(parseInt(e.slice(n,n+2),16)),n+=2):t+=i}return t}var A=1e3,H=["k","M","G","T","P","E","Z","Y"];function B(e){if(0===e)return"0 B";if(Math.abs(e)<A)return e+" B";var t=-1;do{e/=A,++t}while(Math.abs(e)>=A&&t<H.length-1);return e.toFixed(1)+H[t]}function U(e){e=Math.floor(e);var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=e-3600*t-60*n;return"".concat(t<10?"0":"").concat(t,":").concat(n<10?"0":"").concat(n,":").concat(i<10?"0":"").concat(i)}function N(e){var t=new Date(1e3*e);return t.getUTCFullYear()+"-"+("0"+(t.getUTCMonth()+1)).slice(-2)+"-"+("0"+t.getUTCDate()).slice(-2)}function F(e){e=e.substring(1);var t=parseInt(e,16),n=t>>16&255,i=t>>8&255,r=t>>0&255;return.2126*n+.7152*i+.0722*r}function R(e){for(var t=new Set,n=e.selected(),i=0;i<n.length;i++){if("any"===n[i].id)return["any"];-1!==n[i].text.indexOf("(")&&(n[i].values?t.add(n[i].values.slice(-1)[0]):t.add(n[i].id))}return Array.from(t)}function V(e){for(var t=e.selectable(),n={},i=0;i<t.length;i++){var r=null;r=-1!==t[i].text.indexOf("(")&&t[i].values?t[i].values.slice(-1)[0]:t[i].id,n[r]={checked:t[i].itree.state.checked,collapsed:t[i].itree.state.collapsed}}return n}function Q(e){if(0!=e.length)return e.map((function(e){return W(e)})).join("")}function G(e){return e.replaceAll(/([IVATUF])/g,"$$$&").split("$").map((function(e){return K(e)})).slice(1)}function W(e){return e.replace("image/","I").replace("video/","V").replace("application/","A").replace("text/","T").replace("audio/","U").replace("font/","F").replace("+",",").replace("x-","X")}function K(e){return e.replace("I","image/").replace("V","video/").replace("A","application/").replace("T","text/").replace("U","audio/").replace("F","font/").replace(",","+").replace("X","x-")}var Y=n("d4ec"),Z=n("bee2"),J=n("53ca"),X=(n("9129"),n("2ca0"),n("00b4"),n("bc3a")),ee=n.n(X);function te(e,t){for(var n=function(n){var i=t.slice(0,n);if(1==e.filter((function(e){return e.id.slice(0,n)==i})).length)return{v:i}},i=4;i<32;i++){var r=n(i);if("object"===Object(J["a"])(r))return r.v}return t}var ne=function(){function e(t){Object(Y["a"])(this,e),this.baseUrl=t}return Object(Z["a"])(e,[{key:"getSist2Info",value:function(){return ee.a.get("".concat(this.baseUrl,"i")).then((function(e){var t=e.data.indices;return e.data.indices=t.map((function(e){return{id:e.id,name:e.name,timestamp:e.timestamp,version:e.version,idPrefix:te(t,e.id)}})),e.data}))}},{key:"setHitProps",value:function(e){e["_props"]={};var t=null==e._source.mime?null:e._source.mime.split("/")[0];switch("parent"in e._source&&(e._props.isSubDocument=!0),"thumbnail"in e._source&&(e._props.hasThumbnail=!0,Number.isNaN(Number(e._source.thumbnail))?(e._props.tnNum=1,e._props.hasVidPreview=!1):(e._props.tnNum=Number(e._source.thumbnail),e._props.hasVidPreview=e._props.tnNum>1)),t){case"image":"gif"===e._source.videoc?e._props.isGif=!0:e._props.isImage=!0,"width"in e._source&&!e._props.isSubDocument&&"tiff"!==e._source.videoc&&"raw"!==e._source.videoc&&"ppm"!==e._source.videoc&&(e._props.isPlayableImage=!0);break;case"video":if("videoc"in e._source&&(e._props.isVideo=!0),e._props.isVideo){var n=e._source.videoc,i=e._source.mime;e._props.isPlayableVideo=null!=i&&i.startsWith("video/")&&!e._props.isSubDocument&&"mkv"!==e._source.extension&&"avi"!==e._source.extension&&"mov"!==e._source.extension&&"hevc"!==n&&"mpeg1video"!==n&&"mpeg2video"!==n&&"wmv3"!==n}break;case"audio":"audioc"in e._source&&!e._props.isSubDocument&&(e._props.isAudio=!0);break}}},{key:"setHitTags",value:function(e){var t=this,n=[],i=null==e._source.mime?null:e._source.mime.split("/")[0];switch(i){case"image":case"video":"videoc"in e._source&&e._source.videoc&&n.push({style:"video",text:e._source.videoc.replace(" ",""),userTag:!1});break;case"audio":"audioc"in e._source&&e._source.audioc&&n.push({style:"audio",text:e._source.audioc,userTag:!1});break}"tag"in e._source&&e._source.tag.forEach((function(e){n.push(t.createUserTag(e))})),e._tags=n}},{key:"createUserTag",value:function(e){var t=e.split("."),n=t.pop(),i=n,r=F(n)>50?"#000":"#fff";return{style:"user",fg:r,bg:i,text:t.join("."),rawText:e,userTag:!0}}},{key:"esQuery",value:function(e){var t=this;return ee.a.post("".concat(this.baseUrl,"es"),e).then((function(e){var n,i=e.data;return null!==(n=i.hits)&&void 0!==n&&n.hits&&i.hits.hits.forEach((function(e){e["_source"]["name"]=j(e["_source"]["name"]),e["_source"]["path"]=j(e["_source"]["path"]),t.setHitProps(e),t.setHitTags(e)})),i}))}},{key:"getMimeTypes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t={mimeTypes:{terms:{field:"mime",size:1e4}}};return e?(e.size=0,e.aggs=t):e={aggs:t,size:0},this.esQuery(e).then((function(e){var t=[],n=e["aggregations"]["mimeTypes"]["buckets"];return n.sort((function(e,t){return e.key>t.key})).forEach((function(e){var n=e["key"].split("/"),i=n[0],r=n[1],a=!1,o={id:e["key"],text:"".concat(r," (").concat(e["doc_count"],")")};t.forEach((function(e){e.text===i&&(e.children.push(o),a=!0)})),a||t.push({text:i,children:[o],id:i})})),t.forEach((function(e){e.children&&e.children.sort((function(e,t){return e.id.localeCompare(t.id)}))})),t.sort((function(e,t){return e.id.localeCompare(t.id)})),{buckets:n,mimeMap:t}}))}},{key:"_createEsTag",value:function(e,t){var n=e.split(".");return/.*\.#[0-9a-f]{6}/.test(e)?{id:n.slice(0,-1).join("."),color:n.pop(),isLeaf:!0,count:t}:{id:e,count:t,isLeaf:!1,color:void 0}}},{key:"getDocInfo",value:function(e){return ee.a.get("".concat(this.baseUrl,"d/").concat(e))}},{key:"getTags",value:function(){var e=this;return this.esQuery({aggs:{tags:{terms:{field:"tag",size:1e4}}},size:0}).then((function(t){var n=new Set,i=t["aggregations"]["tags"]["buckets"].sort((function(e,t){return e["key"].localeCompare(t["key"])})).map((function(t){return e._createEsTag(t["key"],t["doc_count"])}));return i.filter((function(e){return!n.has(e.id)&&(n.add(e.id),!0)}))}))}},{key:"saveTag",value:function(e,t){return ee.a.post("".concat(this.baseUrl,"tag/")+t["_source"]["index"],{delete:!1,name:e,doc_id:t["_id"]})}},{key:"deleteTag",value:function(e,t){return ee.a.post("".concat(this.baseUrl,"tag/")+t["_source"]["index"],{delete:!0,name:e,doc_id:t["_id"]})}},{key:"getTreemapCsvUrl",value:function(e){return"".concat(this.baseUrl,"s/").concat(e,"/1")}},{key:"getMimeCsvUrl",value:function(e){return"".concat(this.baseUrl,"s/").concat(e,"/2")}},{key:"getSizeCsv",value:function(e){return"".concat(this.baseUrl,"s/").concat(e,"/3")}},{key:"getDateCsv",value:function(e){return"".concat(this.baseUrl,"s/").concat(e,"/4")}}]),e}(),ie=new ne(""),re=n("70b0"),ae=n.n(re),oe={squarify:L["L"],binary:L["H"],sliceDice:L["K"],slice:L["J"],dice:L["I"]},se={PuBuGn:L["n"],PuRd:L["o"],PuBu:L["m"],YlOrBr:L["t"],YlOrRd:L["u"],YlGn:L["r"],YlGnBu:L["s"],Plasma:L["l"],Magma:L["k"],Inferno:L["j"],Viridis:L["q"],Turbo:L["p"]},ce={small:[800,600],medium:[1300,750],large:[1900,900],"x-large":[2800,1700],"xx-large":[3600,2e3]},ue={};function le(e){var t=ue[e]||0;return ue[e]=t+1,e+t}function de(e,t){var n=new Map,i=new Map;return e.eachAfter((function(e){e.children&&0!==e.children.length?(n.set(e,1+L["v"](e.children,(function(i){return i.x1===e.x1-t?n.get(i):NaN}))),i.set(e,1+L["v"](e.children,(function(n){return n.y1===e.y1-t?i.get(n):NaN})))):(n.set(e,0),i.set(e,0))})).eachBefore((function(e){e.x1-=2*t*n.get(e),e.y1-=2*t*i.get(e)}))}function he(e,t,n,i,r,a){var o=de(L["G"]().size([n,i]).tile(oe[r]).paddingOuter(3).paddingTop(16).paddingInner(1).round(!0)(L["h"](e).sum((function(e){return e.value})).sort((function(e,t){return t.value-e.value}))),3),s=Math.max.apply(Math,Object(I["a"])(o.descendants().map((function(e){return e.depth})))),c=L["C"]([s,-1],se[a]);t.append("filter").attr("id","shadow").append("feDropShadow").attr("flood-opacity",.3).attr("dx",0).attr("stdDeviation",3);var u=t.selectAll("g").data(L["w"]().key((function(e){return e.depth})).sortKeys(L["a"]).entries(o.descendants())).join("g").attr("filter","url(#shadow)").selectAll("g").data((function(e){return e.values})).join("g").attr("transform",(function(e){return"translate(".concat(e.x0,",").concat(e.y0,")")}));u.append("title").text((function(e){return"".concat(e.ancestors().reverse().splice(1).map((function(e){return e.data.name})).join("/"),"\n").concat(B(e.value))})),u.append("rect").attr("id",(function(e){return e.nodeUid=le("node")})).attr("fill",(function(e){return c(e.depth)})).attr("width",(function(e){return e.x1-e.x0})).attr("height",(function(e){return e.y1-e.y0})),u.append("clipPath").attr("id",(function(e){return e.clipUid=le("clip")})).append("use").attr("href",(function(e){return"#".concat(e.nodeUid)})),u.append("text").attr("fill",(function(e){return L["i"](c(e.depth)).l>.5?"#333":"#eee"})).attr("clip-path",(function(e){return"url(#".concat(e.clipUid,")")})).selectAll("tspan").data((function(e){return[e.data.name,B(e.value)]})).join("tspan").text((function(e){return e})),u.filter((function(e){return e.children})).selectAll("tspan").attr("dx",3).attr("y",13),u.filter((function(e){return!e.children})).selectAll("tspan").attr("x",3).attr("y",(function(e,t){return"".concat(0===t?1.1:2.3,"em")}))}function pe(e,t,n,i,r,a,o){var s=L["B"](L["D"]),c=L["G"]().tile(oe[a]).size([n,i]).padding(1).round(!0)(L["h"](e).sum((function(e){return e.value})).sort((function(e,t){return t.value-e.value}))),u=t.selectAll("g").data(c.leaves()).join("g").attr("transform",(function(e){return"translate(".concat(e.x0,",").concat(e.y0,")")}));u.append("title").text((function(e){return"".concat(e.ancestors().reverse().map((function(e){return e.data.name})).join("/"),"\n").concat(B(e.value))})),u.append("rect").attr("id",(function(e){return e.leafUid=le("leaf")})).attr("fill",(function(e){while(e.depth>r)e=e.parent;return s(e.data.name)})).attr("fill-opacity",o).attr("width",(function(e){return e.x1-e.x0})).attr("height",(function(e){return e.y1-e.y0})),u.append("clipPath").attr("id",(function(e){return e.clipUid=le("clip")})).append("use").attr("href",(function(e){return"#".concat(e.leafUid)})),u.append("text").attr("clip-path",(function(e){return"url(#".concat(e.clipUid,")")})).selectAll("tspan").data((function(e){return"."===e.data.name&&(e=e.parent),[e.data.name,B(e.value)]})).join("tspan").attr("x",2).attr("y",(function(e,t){return"".concat(0===t?1.1:2.3,"em")})).text((function(e){return e}))}function me(e,t,n){ae.a.toBlob(document.getElementById("treemap"),{width:t,height:n}).then((function(t){var n=document.createElement("a"),i=URL.createObjectURL(t);n.href=i,n.download="".concat(e,"_treemap.png"),document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)}),0)}))}var fe={name:"D3Treemap",props:["indexId"],watch:{indexId:function(){this.update(this.indexId)}},mounted:function(){this.update(this.indexId)},methods:{update:function(e){var t=this,n=ce[this.$store.state.optTreemapSize][0],i=ce[this.$store.state.optTreemapSize][1],r=this.$store.state.optTreemapTiling,a=this.$store.state.optTreemapColorGroupingDepth,o=this.$store.state.optTreemapColor,s=this.$store.state.optTreemapType,c=L["E"]("#treemap");c.selectAll("*").remove(),c.attr("viewBox",[0,0,n,i]).attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("version","1.1").style("overflow","visible").style("font","10px sans-serif"),L["e"](ie.getTreemapCsvUrl(e)).then((function(e){if(e.forEach((function(e){e.taxonomy=e.path.split("/"),e.size=Number(e.size)})),"cascaded"===s){var u=P(e,!1);he(u,c,n,i,r,o)}else{var l=P(e.sort((function(e,t){return t.taxonomy.length-e.taxonomy.length})),!0),d="black"===t.$store.state.optTheme?.9:.6;pe(l,c,n,i,a,r,d)}}))},downloadTreemap:function(){var e=ce[this.$store.state.optTreemapSize][0],t=ce[this.$store.state.optTreemapSize][1];me(this.indexId,e,t)}}},ge=fe,be=Object(m["a"])(ge,C,O,!1,null,null,null),ve=be.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-progress",{attrs:{value:"1",max:"1",animated:""}})},ye=[],_e={},Te=Object(m["a"])(_e,xe,ye,!1,null,null,null),Se=Te.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graph"},[n("svg",{attrs:{id:"agg-mime-count"}})])},$e=[],ke=L["g"]("~s"),ze=20,Me=L["B"](L["D"]);function Ce(e,t,n,i){var r={top:50,right:0,bottom:10,left:Math.max(6*L["v"](e.sort((function(e,t){return t.count-e.count})).slice(0,15),(function(e){return e.mime.length})),6*L["v"](e.sort((function(e,t){return t.size-e.size})).slice(0,15),(function(e){return e.mime.length})))};e.forEach((function(e){e.name=e.mime,e.value=Number(e.count)})),e=e.sort((function(e,t){return t.value-e.value})).slice(0,15);var a=550,o=Math.ceil((e.length+.1)*ze)+r.top+r.bottom;t.selectAll("*").remove(),t.attr("viewBox",[0,0,a,o]);var s=L["z"]().domain(L["y"](e.length)).rangeRound([r.top,o-r.bottom]),c=L["A"]().domain([0,L["v"](e,(function(e){return e.value}))]).range([r.left,a-r.right]);t.append("g").attr("fill-opacity",n).selectAll("rect").data(e).join("rect").attr("fill",(function(e){return Me(e.name)})).attr("x",c(0)).attr("y",(function(e,t){return s(t)})).attr("width",(function(e){return c(e.value)-c(0)})).attr("height",s.bandwidth()).append("title").text((function(e){return L["g"](",")(e.value)})),t.append("g").attr("transform","translate(0,".concat(r.top,")")).call(L["d"](c).ticks(a/80,e.format).tickFormat(ke)).call((function(e){return e.select(".domain").remove()})),t.append("g").attr("transform","translate(".concat(r.left,",0)")).call(L["c"](s).tickFormat((function(t){return e[t].name})).tickSizeOuter(0)),t.append("text").attr("x",a/2).attr("y",r.top/2).attr("text-anchor","middle").style("font-size","16px").text(i)}var Oe={name:"D3MimeBarSize",props:["indexId"],mounted:function(){this.update(this.indexId)},watch:{indexId:function(){this.update(this.indexId)}},methods:{update:function(e){var t=this,n=L["E"]("#agg-mime-count"),i="black"===this.$store.state.optTheme?.9:.6;L["e"](ie.getMimeCsvUrl(e)).then((function(e){Ce(e.slice(),n,i,t.$t("d3.mimeCount"))}))}}},Ie=Oe,Le=Object(m["a"])(Ie,we,$e,!1,null,null,null),De=Le.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graph"},[n("svg",{attrs:{id:"agg-mime-size"}})])},Ee=[],qe=L["g"]("~s"),je=20,Ae=L["B"](L["D"]);function He(e,t,n,i){var r={top:50,right:0,bottom:10,left:Math.max(6*L["v"](e.sort((function(e,t){return t.count-e.count})).slice(0,15),(function(e){return e.mime.length})),6*L["v"](e.sort((function(e,t){return t.size-e.size})).slice(0,15),(function(e){return e.mime.length})))};e.forEach((function(e){e.name=e.mime,e.value=Number(e.size)})),e=e.sort((function(e,t){return t.value-e.value})).slice(0,15);var a=550,o=Math.ceil((e.length+.1)*je)+r.top+r.bottom;t.selectAll("*").remove(),t.attr("viewBox",[0,0,a,o]);var s=L["z"]().domain(L["y"](e.length)).rangeRound([r.top,o-r.bottom]),c=L["A"]().domain([0,L["v"](e,(function(e){return e.value}))]).range([r.left,a-r.right]);t.append("g").attr("fill-opacity",n).selectAll("rect").data(e).join("rect").attr("fill",(function(e){return Ae(e.name)})).attr("x",c(0)).attr("y",(function(e,t){return s(t)})).attr("width",(function(e){return c(e.value)-c(0)})).attr("height",s.bandwidth()).append("title").text((function(e){return qe(e.value)})),t.append("g").attr("transform","translate(0,".concat(r.top,")")).call(L["d"](c).ticks(a/80,e.format).tickFormat(qe)).call((function(e){return e.select(".domain").remove()})),t.append("g").attr("transform","translate(".concat(r.left,",0)")).call(L["c"](s).tickFormat((function(t){return e[t].name})).tickSizeOuter(0)),t.append("text").attr("x",a/2).attr("y",r.top/2).attr("text-anchor","middle").style("font-size","16px").text(i)}var Be={name:"D3MimeBarSize",props:["indexId"],mounted:function(){this.update(this.indexId)},watch:{indexId:function(){this.update(this.indexId)}},methods:{update:function(e){var t=this,n=L["E"]("#agg-mime-size"),i="black"===this.$store.state.optTheme?.9:.6;L["e"](ie.getMimeCsvUrl(e)).then((function(e){He(e.slice(),n,i,t.$t("d3.mimeSize"))}))}}},Ue=Be,Ne=Object(m["a"])(Ue,Pe,Ee,!1,null,null,null),Fe=Ne.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graph"},[n("svg",{attrs:{id:"date-histogram"}})])},Ve=[],Qe=L["g"]("~s");function Ge(e,t,n){var i=e.map((function(e){return{length:Number(e.count),x0:Number(e.bucket),x1:Number(e.bucket)+2629800}}));i.sort((function(e,t){return e.length-t.length}));var r={top:50,right:20,bottom:70,left:40},a=L["x"](i,.9,(function(e){return e.length}));i=i.filter((function(e){return e.length>a}));var o=550,s=450;t.selectAll("*").remove(),t.attr("viewBox",[0,0,o,s]);var c=L["A"]().domain([0,L["v"](i,(function(e){return e.length}))]).nice().range([s-r.bottom,r.top]),u=L["A"]().domain(L["f"](i,(function(e){return e.x0}))).nice().range([r.left,o-r.right]);t.append("g").attr("fill","steelblue").selectAll("rect").data(i).join("rect").attr("x",(function(e){return u(e.x0)+1})).attr("width",(function(e){return Math.max(1,u(e.x1)-u(e.x0)-1)})).attr("y",(function(e){return c(e.length)})).attr("height",(function(e){return c(0)-c(e.length)})).call((function(e){return e.append("title").text((function(e){return e.length}))})),t.append("g").attr("transform","translate(0,".concat(s-r.bottom,")")).call(L["b"](u).ticks(o/30).tickSizeOuter(0).tickFormat((function(e){return L["F"]("%Y-%m-%d")(L["M"]("%s")(e))}))).call((function(e){return e.selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)")})).call((function(e){return e.append("text").attr("x",o-r.right).attr("y",-4).attr("fill","currentColor").attr("font-weight","bold").attr("text-anchor","end").text("mtime")})),t.append("g").attr("transform","translate(".concat(r.left,",0)")).call(L["c"](c).ticks(s/40).tickFormat((function(e){return Qe(e)}))).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.select(".tick:last-of-type text").clone().attr("x",4).attr("text-anchor","start").attr("font-weight","bold").text("File count")})),t.append("text").attr("x",o/2).attr("y",r.top/2).attr("text-anchor","middle").style("font-size","16px").text(n)}var We={name:"D3DateHistogram",props:["indexId"],mounted:function(){this.update(this.indexId)},watch:{indexId:function(){this.update(this.indexId)}},methods:{update:function(e){var t=this,n=L["E"]("#date-histogram");L["e"](ie.getDateCsv(e)).then((function(e){Ge(e.slice(),n,t.$t("d3.dateHistogram"))}))}}},Ke=We,Ye=Object(m["a"])(Ke,Re,Ve,!1,null,null,null),Ze=Ye.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graph"},[n("svg",{attrs:{id:"size-histogram"}})])},Xe=[],et=L["g"]("~s");function tt(e,t,n){var i=e.map((function(e){return{length:Number(e.count),x0:Number(e.bucket),x1:Number(e.bucket)+5242880}}));i=i.sort((function(e,t){return t.length-e.length})).slice(0,25);var r={top:50,right:20,bottom:70,left:40},a=550,o=450;t.selectAll("*").remove(),t.attr("viewBox",[0,0,a,o]);var s=L["A"]().domain([0,L["v"](i,(function(e){return e.length}))]).range([o-r.bottom,r.top]),c=L["A"]().domain(L["f"](i,(function(e){return e.x0}))).nice().range([r.left,a-r.right]);t.append("g").attr("fill","steelblue").selectAll("rect").data(i).join("rect").attr("x",(function(e){return c(e.x0)+1})).attr("width",(function(e){return Math.max(1,c(e.x1)-c(e.x0)-1)})).attr("y",(function(e){return s(e.length)})).attr("height",(function(e){return s(0)-s(e.length)})).call((function(e){return e.append("title").text((function(e){return e.length}))})),t.append("g").attr("transform","translate(0,".concat(o-r.bottom,")")).call(L["b"](c).ticks(a/30).tickSizeOuter(0).tickFormat(et)).call((function(e){return e.selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)")})).call((function(e){return e.append("text").attr("x",a-r.right).attr("y",-4).attr("fill","currentColor").attr("font-weight","bold").attr("text-anchor","end").text("size (bytes)")})),t.append("g").attr("transform","translate(".concat(r.left,",0)")).call(L["c"](s).ticks(o/40).tickFormat((function(e){return et(e)}))).call((function(e){return e.select(".domain").remove()})).call((function(e){return e.select(".tick:last-of-type text").clone().attr("x",4).attr("text-anchor","start").attr("font-weight","bold").text("File count")})),t.append("text").attr("x",a/2).attr("y",r.top/2).attr("text-anchor","middle").style("font-size","16px").text(n)}var nt={name:"D3SizeHistogram",props:["indexId"],mounted:function(){this.update(this.indexId)},watch:{indexId:function(){this.update(this.indexId)}},methods:{update:function(e){var t=this,n=L["E"]("#size-histogram");L["e"](ie.getSizeCsv(e)).then((function(e){tt(e.slice(),n,t.$t("d3.sizeHistogram"))}))}}},it=nt,rt=Object(m["a"])(it,Je,Xe,!1,null,null,null),at=rt.exports,ot={components:{D3SizeHistogram:at,D3DateHistogram:Ze,D3MimeBarSize:Fe,D3MimeBarCount:De,D3Treemap:ve,Preloader:Se},data:function(){return{loading:!0,selectedIndex:null,indices:[]}},computed:{indexOptions:function(){return this.indices.map((function(e){return{text:e.name,value:e.id}}))}},mounted:function(){var e=this;ie.getSist2Info().then((function(t){e.indices=t.indices,e.loading=!1}))}},st=ot,ct=(n("f093"),Object(m["a"])(st,z,M,!1,null,null,null)),ut=ct.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.configLoading?e._e():n("div",{staticClass:"container",staticStyle:{"margin-left":"auto","margin-right":"auto"}},[n("b-card",[n("b-card-title",[n("GearIcon"),e._v(" "+e._s(e.$t("config"))+" ")],1),n("p",[e._v(e._s(e.$t("configDescription")))]),n("b-card-body",[n("h4",[e._v(e._s(e.$t("displayOptions")))]),n("b-card",[n("label",[n("LanguageIcon"),n("span",{staticStyle:{"vertical-align":"middle"}},[e._v(" "+e._s(e.$t("opt.lang")))])],1),n("b-form-select",{attrs:{options:e.langOptions,value:e.optLang},on:{input:e.setOptLang}}),n("label",[e._v(e._s(e.$t("opt.theme")))]),n("b-form-select",{attrs:{options:e.themeOptions,value:e.optTheme},on:{input:e.setOptTheme}}),n("label",[e._v(e._s(e.$t("opt.displayMode")))]),n("b-form-select",{attrs:{options:e.displayModeOptions,value:e.optDisplay},on:{input:e.setOptDisplay}}),n("label",[e._v(e._s(e.$t("opt.columns")))]),n("b-form-select",{attrs:{options:e.columnsOptions,value:e.optColumns},on:{input:e.setOptColumns}}),n("div",{staticStyle:{height:"10px"}}),n("b-form-checkbox",{attrs:{checked:e.optLightboxLoadOnlyCurrent},on:{input:e.setOptLightboxLoadOnlyCurrent}},[e._v(" "+e._s(e.$t("opt.lightboxLoadOnlyCurrent"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optHideLegacy},on:{input:e.setOptHideLegacy}},[e._v(" "+e._s(e.$t("opt.hideLegacy"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optUpdateMimeMap},on:{input:e.setOptUpdateMimeMap}},[e._v(" "+e._s(e.$t("opt.updateMimeMap"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optUseDatePicker},on:{input:e.setOptUseDatePicker}},[e._v(" "+e._s(e.$t("opt.useDatePicker"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optSimpleLightbox},on:{input:e.setOptSimpleLightbox}},[e._v(e._s(e.$t("opt.simpleLightbox"))+" ")])],1),n("br"),n("h4",[e._v(e._s(e.$t("searchOptions")))]),n("b-card",[n("b-form-checkbox",{attrs:{checked:e.optHideDuplicates},on:{input:e.setOptHideDuplicates}},[e._v(e._s(e.$t("opt.hideDuplicates"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optHighlight},on:{input:e.setOptHighlight}},[e._v(e._s(e.$t("opt.highlight")))]),n("b-form-checkbox",{attrs:{checked:e.optTagOrOperator},on:{input:e.setOptTagOrOperator}},[e._v(e._s(e.$t("opt.tagOrOperator"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optFuzzy},on:{input:e.setOptFuzzy}},[e._v(e._s(e.$t("opt.fuzzy")))]),n("b-form-checkbox",{attrs:{checked:e.optSearchInPath},on:{input:e.setOptSearchInPath}},[e._v(e._s(e.$t("opt.searchInPath"))+" ")]),n("b-form-checkbox",{attrs:{checked:e.optSuggestPath},on:{input:e.setOptSuggestPath}},[e._v(e._s(e.$t("opt.suggestPath"))+" ")]),n("br"),n("label",[e._v(e._s(e.$t("opt.fragmentSize")))]),n("b-form-input",{attrs:{value:e.optFragmentSize,step:"10",type:"number",min:"0"},on:{input:e.setOptFragmentSize}}),n("label",[e._v(e._s(e.$t("opt.resultSize")))]),n("b-form-input",{attrs:{value:e.optResultSize,type:"number",min:"10"},on:{input:e.setOptResultSize}}),n("label",[e._v(e._s(e.$t("opt.queryMode")))]),n("b-form-select",{attrs:{options:e.queryModeOptions,value:e.optQueryMode},on:{input:e.setOptQueryMode}}),n("label",[e._v(e._s(e.$t("opt.slideDuration")))]),n("b-form-input",{attrs:{value:e.optLightboxSlideDuration,type:"number",min:"1"},on:{input:e.setOptLightboxSlideDuration}}),n("label",[e._v(e._s(e.$t("opt.vidPreviewInterval")))]),n("b-form-input",{attrs:{value:e.optVidPreviewInterval,type:"number",min:"50"},on:{input:e.setOptVidPreviewInterval}})],1),n("h4",{staticClass:"mt-3"},[e._v(e._s(e.$t("treemapOptions")))]),n("b-card",[n("label",[e._v(e._s(e.$t("opt.treemapType")))]),n("b-form-select",{attrs:{value:e.optTreemapType,options:e.treemapTypeOptions},on:{input:e.setOptTreemapType}}),n("label",[e._v(e._s(e.$t("opt.treemapTiling")))]),n("b-form-select",{attrs:{value:e.optTreemapTiling,options:e.treemapTilingOptions},on:{input:e.setOptTreemapTiling}}),n("label",[e._v(e._s(e.$t("opt.treemapColorGroupingDepth")))]),n("b-form-input",{attrs:{value:e.optTreemapColorGroupingDepth,type:"number",min:"1"},on:{input:e.setOptTreemapColorGroupingDepth}}),n("label",[e._v(e._s(e.$t("opt.treemapSize")))]),n("b-form-select",{attrs:{value:e.optTreemapSize,options:e.treemapSizeOptions},on:{input:e.setOptTreemapSize}}),"custom"===e.$store.getters.optTreemapSize?[n("b-form-input",{attrs:{type:"number",min:"0",step:"10"}}),n("b-form-input",{attrs:{type:"number",min:"0",step:"10"}})]:e._e(),n("label",[e._v(e._s(e.$t("opt.treemapColor")))]),n("b-form-select",{attrs:{value:e.optTreemapColor,options:e.treemapColorOptions},on:{input:e.setOptTreemapColor}})],2),n("b-button",{staticClass:"mt-4",attrs:{variant:"danger"},on:{click:function(t){return e.onResetClick()}}},[e._v(e._s(e.$t("configReset")))])],1)],1),e.loading?n("b-card",{staticClass:"mt-4"},[n("Preloader")],1):n("DebugInfo")],1)},dt=[],ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",{staticClass:"mb-4 mt-4"},[n("b-card-title",[n("DebugIcon",{staticClass:"mr-1"}),e._v(e._s(e.$t("debug")))],1),n("p",{domProps:{innerHTML:e._s(e.$t("debugDescription"))}}),n("b-card-body",[n("b-table",{staticClass:"mb-0",attrs:{items:e.tableItems,small:"",borderless:"",responsive:"md","thead-class":"hidden"}}),n("hr"),e._l(e.$store.state.sist2Info.indices,(function(e){return n("IndexDebugInfo",{key:e.id,staticClass:"mt-2",attrs:{index:e}})}))],2)],1)},pt=[],mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("["+e._s(e.index.name)+"]")]),n("b-table",{staticClass:"mb-0",attrs:{items:e.tableItems,small:"",borderless:"",responsive:"md","thead-class":"hidden"}})],1)},ft=[],gt={name:"IndexDebugInfo",props:["index"],computed:{tableItems:function(){return[{key:this.$t("name"),value:this.index.name},{key:this.$t("id"),value:this.index.id},{key:this.$t("indexVersion"),value:this.index.version},{key:this.$t("rewriteUrl"),value:this.index.rewriteUrl},{key:this.$t("timestamp"),value:N(this.index.timestamp)}]}}},bt=gt,vt=Object(m["a"])(bt,mt,ft,!1,null,"9d879710",null),xt=vt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 309.998 309.998",fill:"currentColor"}},[n("path",{attrs:{d:"M294.998,155.03H250v-48.82l39.714-39.715c5.858-5.857,5.858-15.356,0-21.213c-5.857-5.857-15.355-5.857-21.213,0 l-23.7,23.701c-12.885-37.2-48.274-63.984-89.802-63.984c-41.528,0-76.913,26.787-89.797,63.989L41.497,45.282 c-5.856-5.859-15.354-5.857-21.213,0s-5.858,15.355,0,21.213L60,106.212v48.818H15c-8.284,0-15,6.716-15,15c0,8.284,6.716,15,15,15 h45.134c0.855,16.314,5.849,31.551,13.944,44.68l-49.685,49.683c-5.858,5.857-5.858,15.354,0,21.213 c2.929,2.93,6.768,4.394,10.607,4.394c3.838,0,7.678-1.465,10.606-4.394l48.095-48.093c16.558,14.018,37.957,22.486,61.301,22.486 c0.019,0,0.037-0.001,0.057-0.001c0.011,0,0.022,0.002,0.033,0.002c0.019,0,0.037-0.003,0.056-0.003 c23.285-0.035,44.629-8.494,61.15-22.483l48.094,48.092c2.929,2.929,6.768,4.394,10.606,4.394c3.839,0,7.678-1.465,10.607-4.394 c5.858-5.858,5.858-15.355,0-21.213l-49.683-49.681c8.096-13.131,13.089-28.366,13.944-44.682h45.132c8.284,0,15-6.716,15-15 C309.998,161.746,303.282,155.03,294.998,155.03z M154.999,34.999c30.681,0,56.465,21.365,63.254,50H91.747 C98.535,56.364,124.318,34.999,154.999,34.999z M90,179.999v-9.272c0.011-0.232,0.035-0.462,0.035-0.696 c0-0.234-0.024-0.464-0.035-0.695v-54.336h50.092v128.254C111.415,236.494,90,210.708,90,179.999z M170.092,243.212V114.999H220 v54.297c-0.012,0.244-0.037,0.486-0.037,0.734c0,0.248,0.025,0.49,0.037,0.734v9.234C220,210.645,198.676,236.388,170.092,243.212z"}})])},_t=[],Tt={name:"DebugIcon"},St=Tt,wt=(n("7160"),Object(m["a"])(St,yt,_t,!1,null,"1493ac2c",null)),$t=wt.exports,kt={name:"DebugInfo.vue",components:{DebugIcon:$t,IndexDebugInfo:xt},computed:{tableItems:function(){return[{key:"version",value:this.$store.state.sist2Info.version},{key:"platform",value:this.$store.state.sist2Info.platform},{key:"debugBinary",value:this.$store.state.sist2Info.debug},{key:"sist2CommitHash",value:this.$store.state.sist2Info.sist2Hash},{key:"esIndex",value:this.$store.state.sist2Info.esIndex},{key:"tagline",value:this.$store.state.sist2Info.tagline},{key:"dev",value:this.$store.state.sist2Info.dev},{key:"mongooseVersion",value:this.$store.state.sist2Info.mongooseVersion},{key:"esVersion",value:this.$store.state.sist2Info.esVersion},{key:"esVersionSupported",value:this.$store.state.sist2Info.esVersionSupported},{key:"esVersionLegacy",value:this.$store.state.sist2Info.esVersionLegacy}]}}},zt=kt,Mt=Object(m["a"])(zt,ht,pt,!1,null,null,null),Ct=Mt.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",fill:"currentColor"}},[n("g",{attrs:{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)"}},[n("path",{attrs:{d:"M4568.5,5011c-73.2-7.7-154-25-177.1-36.6c-84.7-46.2-102-119.4-159.8-689.2s-65.5-610.3-159.8-670c-23.1-15.4-125.1-55.8-225.3-90.5c-100.1-32.7-290.7-111.7-423.6-175.2c-319.6-152.1-315.8-152.1-619.9,94.3c-718.1,583.3-650.7,535.2-747,535.2c-77,0-104-11.6-184.8-77c-157.9-127.1-410.1-375.4-567.9-558.3c-155.9-177.1-190.6-250.3-159.8-344.6c9.6-27,165.6-227.2,344.6-446.7c181-219.5,342.7-425.5,360-458.2c52-88.6,42.3-150.2-50.1-335c-73.2-148.3-144.4-325.4-252.2-623.8c-17.3-50-57.8-113.6-88.6-138.6c-63.5-53.9-59.7-53.9-695-117.4c-527.5-52-577.6-65.5-627.6-179c-46.2-105.9-46.2-1057,0-1162.9c50-113.6,98.2-127.1,646.9-181c271.5-25,523.7-52,560.2-57.8c111.7-17.3,179.1-107.8,259.9-344.6c38.5-115.5,119.4-310,177.1-431.3c57.8-119.4,104-240.7,104-269.5c0-78.9-42.4-140.5-394.7-568c-179-219.5-335-419.7-344.6-446.6c-30.8-94.3,3.9-167.5,159.8-344.6c157.9-181,410.1-429.3,564.1-554.5c96.3-78.9,188.7-105.9,265.7-75.1c26.9,11.6,234.9,173.3,462.1,360c227.2,188.7,433.2,348.5,458.2,358.1c82.8,30.8,136.7,17.3,354.3-86.6c119.4-57.8,308-136.7,419.7-175.2c111.7-38.5,221.4-82.8,244.5-98.2c94.3-59.7,102-100.1,159.8-670c61.6-606.5,73.2-648.8,188.7-700.8c105.9-46.2,1057-46.2,1162.9,0c115.5,52,127.1,94.3,188.7,700.8c57.8,569.9,65.4,610.3,159.8,670c23.1,15.4,132.9,59.7,244.5,98.2s300.3,117.4,417.8,175.2c219.5,104,273.4,117.5,356.2,86.6c25-9.6,231-169.4,458.2-358.1c227.2-186.8,435.1-348.5,462.1-360c77-28.9,169.4-3.9,265.7,75.1c152.1,121.3,442.8,410.1,583.4,577.6c140.6,163.6,173.3,242.6,136.7,333.1c-11.6,27-173.3,234.9-360,462.1c-188.7,227.2-348.5,433.2-358.1,458.2c-30.8,82.8-17.3,136.7,86.6,356.2c57.8,117.4,138.6,311.9,177.1,427.4c80.9,236.8,148.3,327.3,259.9,344.6c36.6,5.8,288.8,32.7,562.2,59.7c308,28.9,517.9,59.7,550.6,77c30.8,15.4,71.2,59.7,90.5,100.1c32.8,65.4,36.6,123.2,34.7,573.7c0,562.2-11.5,627.6-115.5,687.3c-46.2,27-188.7,48.1-612.2,90.5c-573.7,59.7-614.2,67.4-673.8,161.7c-15.4,23.1-59.7,132.9-98.2,244.5s-117.4,300.3-175.2,417.8c-57.8,119.4-104,240.7-104,271.5c0,80.9,40.4,138.6,394.7,569.9c181,219.5,335,419.7,344.6,446.7c30.8,94.3-3.9,167.5-159.8,344.6c-157.9,181-410.1,429.3-564.1,554.5c-96.3,78.9-188.7,104-265.7,75.1c-27-11.6-234.9-173.3-462.1-360c-227.2-188.7-433.2-348.5-458.2-358.1c-80.9-30.8-130.9-19.2-371.6,96.3c-130.9,61.6-325.4,142.5-431.3,177.1c-217.5,71.2-308,140.5-325.4,250.3c-5.8,36.6-32.7,288.8-57.8,560.3c-53.9,550.6-67.4,596.8-181,645C5502.3,5018.7,4807.3,5036,4568.5,5011z M5463.8,1897.8c502.5-127.1,954.9-494.8,1184-960.7c446.7-914.5,78.9-2011.9-824-2460.5c-1053.1-521.8-2308.4,52-2604.9,1189.8c-71.2,277.2-71.2,629.6,0,904.9c192.5,737.4,814.4,1284.2,1569.1,1376.6C4974.8,1971,5255.9,1949.8,5463.8,1897.8z"}})])])},It=[],Lt={name:"GearIcon"},Dt=Lt,Pt=(n("b3e2"),Object(m["a"])(Dt,Ot,It,!1,null,"aa389a2c",null)),Et=Pt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentColor",d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1 16.057v-3.057h2.994c-.059 1.143-.212 2.24-.456 3.279-.823-.12-1.674-.188-2.538-.222zm1.957 2.162c-.499 1.33-1.159 2.497-1.957 3.456v-3.62c.666.028 1.319.081 1.957.164zm-1.957-7.219v-3.015c.868-.034 1.721-.103 2.548-.224.238 1.027.389 2.111.446 3.239h-2.994zm0-5.014v-3.661c.806.969 1.471 2.15 1.971 3.496-.642.084-1.3.137-1.971.165zm2.703-3.267c1.237.496 2.354 1.228 3.29 2.146-.642.234-1.311.442-2.019.607-.344-.992-.775-1.91-1.271-2.753zm-7.241 13.56c-.244-1.039-.398-2.136-.456-3.279h2.994v3.057c-.865.034-1.714.102-2.538.222zm2.538 1.776v3.62c-.798-.959-1.458-2.126-1.957-3.456.638-.083 1.291-.136 1.957-.164zm-2.994-7.055c.057-1.128.207-2.212.446-3.239.827.121 1.68.19 2.548.224v3.015h-2.994zm1.024-5.179c.5-1.346 1.165-2.527 1.97-3.496v3.661c-.671-.028-1.329-.081-1.97-.165zm-2.005-.35c-.708-.165-1.377-.373-2.018-.607.937-.918 2.053-1.65 3.29-2.146-.496.844-.927 1.762-1.272 2.753zm-.549 1.918c-.264 1.151-.434 2.36-.492 3.611h-3.933c.165-1.658.739-3.197 1.617-4.518.88.361 1.816.67 2.808.907zm.009 9.262c-.988.236-1.92.542-2.797.9-.89-1.328-1.471-2.879-1.637-4.551h3.934c.058 1.265.231 2.488.5 3.651zm.553 1.917c.342.976.768 1.881 1.257 2.712-1.223-.49-2.326-1.211-3.256-2.115.636-.229 1.299-.435 1.999-.597zm9.924 0c.7.163 1.362.367 1.999.597-.931.903-2.034 1.625-3.257 2.116.489-.832.915-1.737 1.258-2.713zm.553-1.917c.27-1.163.442-2.386.501-3.651h3.934c-.167 1.672-.748 3.223-1.638 4.551-.877-.358-1.81-.664-2.797-.9zm.501-5.651c-.058-1.251-.229-2.46-.492-3.611.992-.237 1.929-.546 2.809-.907.877 1.321 1.451 2.86 1.616 4.518h-3.933z"}})])},jt=[],At={name:"LanguageIcon"},Ht=At,Bt=(n("8bb7"),Object(m["a"])(Ht,qt,jt,!1,null,"53847ab6",null)),Ut=Bt.exports,Nt={components:{LanguageIcon:Ut,GearIcon:Et,DebugInfo:Ct,Preloader:Se},data:function(){return{loading:!0,configLoading:!1,langOptions:[{value:"en",text:this.$t("lang.en")},{value:"fr",text:this.$t("lang.fr")},{value:"zh-CN",text:this.$t("lang.zh-CN")}],queryModeOptions:[{value:"simple",text:this.$t("queryMode.simple")},{value:"advanced",text:this.$t("queryMode.advanced")}],displayModeOptions:[{value:"grid",text:this.$t("displayMode.grid")},{value:"list",text:this.$t("displayMode.list")}],columnsOptions:[{value:"auto",text:this.$t("columns.auto")},{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"},{value:6,text:"6"},{value:7,text:"7"},{value:8,text:"8"},{value:9,text:"9"},{value:10,text:"10"},{value:11,text:"11"},{value:12,text:"12"}],treemapTypeOptions:[{value:"cascaded",text:this.$t("treemapType.cascaded")},{value:"flat",text:this.$t("treemapType.flat")}],treemapTilingOptions:[{value:"binary",text:this.$t("treemapTiling.binary")},{value:"squarify",text:this.$t("treemapTiling.squarify")},{value:"slice",text:this.$t("treemapTiling.slice")},{value:"dice",text:this.$t("treemapTiling.dice")},{value:"sliceDice",text:this.$t("treemapTiling.sliceDice")}],treemapSizeOptions:[{value:"small",text:this.$t("treemapSize.small")},{value:"medium",text:this.$t("treemapSize.medium")},{value:"large",text:this.$t("treemapSize.large")},{value:"x-large",text:this.$t("treemapSize.xLarge")},{value:"xx-large",text:this.$t("treemapSize.xxLarge")}],treemapColorOptions:[{value:"PuBuGn",text:"Purple-Blue-Green"},{value:"PuRd",text:"Purple-Red"},{value:"PuBu",text:"Purple-Blue"},{value:"YlOrBr",text:"Yellow-Orange-Brown"},{value:"YlOrRd",text:"Yellow-Orange-Red"},{value:"YlGn",text:"Yellow-Green"},{value:"YlGnBu",text:"Yellow-Green-Blue"},{value:"Plasma",text:"Plasma"},{value:"Magma",text:"Magma"},{value:"Inferno",text:"Inferno"},{value:"Viridis",text:"Viridis"},{value:"Turbo",text:"Turbo"}],themeOptions:[{value:"light",text:this.$t("theme.light")},{value:"black",text:this.$t("theme.black")}]}},computed:Object(s["a"])(Object(s["a"])({},Object(_["c"])(["optTheme","optDisplay","optColumns","optHighlight","optFuzzy","optSearchInPath","optSuggestPath","optFragmentSize","optQueryMode","optTreemapType","optTreemapTiling","optTreemapColorGroupingDepth","optTreemapColor","optTreemapSize","optLightboxLoadOnlyCurrent","optLightboxSlideDuration","optResultSize","optTagOrOperator","optLang","optHideDuplicates","optHideLegacy","optUpdateMimeMap","optUseDatePicker","optVidPreviewInterval","optSimpleLightbox"])),{},{clientWidth:function(){return window.innerWidth}}),mounted:function(){var e=this;ie.getSist2Info().then((function(t){e.setSist2Info(t),e.loading=!1})),this.$store.subscribe((function(t){t.type.startsWith("setOpt")&&e.$store.dispatch("updateConfiguration")}))},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(_["b"])({setSist2Info:"setSist2Info"})),Object(_["d"])(["setOptTheme","setOptDisplay","setOptColumns","setOptHighlight","setOptFuzzy","setOptSearchInPath","setOptSuggestPath","setOptFragmentSize","setOptQueryMode","setOptTreemapType","setOptTreemapTiling","setOptTreemapColorGroupingDepth","setOptTreemapColor","setOptTreemapSize","setOptLightboxLoadOnlyCurrent","setOptLightboxSlideDuration","setOptResultSize","setOptTagOrOperator","setOptLang","setOptHideDuplicates","setOptHideLegacy","setOptUpdateMimeMap","setOptUseDatePicker","setOptVidPreviewInterval","setOptSimpleLightbox"])),{},{onResetClick:function(){localStorage.removeItem("sist2_configuration"),window.location.reload()}})},Ft=Nt,Rt=(n("f2e9"),Object(m["a"])(Ft,lt,dt,!1,null,null,null)),Vt=Rt.exports,Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("Lightbox"),n("HelpDialog",{attrs:{show:e.showHelp},on:{close:function(t){e.showHelp=!1}}}),e.uiLoading?n("b-card",[n("Preloader")],1):e._e(),n("b-card",{directives:[{name:"show",rawName:"v-show",value:!e.uiLoading,expression:"!uiLoading"}],attrs:{id:"search-panel"}},[n("SearchBar",{on:{"show-help":function(t){e.showHelp=!0}}}),n("b-row",[n("b-col",{staticStyle:{height:"70px"},attrs:{sm:"6"}},[n("SizeSlider")],1),n("b-col",[n("PathTree",{on:{search:function(t){return e.search(!0)}}})],1)],1),n("b-row",[n("b-col",{attrs:{sm:"6"}},[n("DateSlider"),n("b-row",[n("b-col",[n("IndexPicker")],1)],1)],1),n("b-col",[n("b-tabs",{attrs:{justified:""}},[n("b-tab",{attrs:{title:e.$t("mimeTypes")}},[n("MimePicker")],1),n("b-tab",{attrs:{title:e.$t("tags")}},[n("TagPicker")],1)],1)],1)],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:0===e.docs.length&&!e.uiLoading,expression:"docs.length === 0 && !uiLoading"}]},[e.searchBusy?n("Preloader",{staticClass:"mt-3"}):e._e(),n("ResultsCard")],1),e.docs.length>0?n("div",[n("ResultsCard"),"grid"===e.optDisplay?n("DocCardWall",{attrs:{docs:e.docs,append:e.appendFunc}}):n("DocList",{attrs:{docs:e.docs,append:e.appendFunc}})],1):e._e()],1)},Gt=[],Wt=n("b85c"),Kt=n("1da1"),Yt=(n("96cf"),n("841c"),n("caad"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[n("b-input-group-text",[n("b-form-checkbox",{attrs:{checked:e.fuzzy,title:"Toggle fuzzy searching"},on:{change:function(t){return e.setFuzzy(t)}}},[e._v(" "+e._s(e.$t("searchBar.fuzzy"))+" ")])],1)]},proxy:!0},{key:"append",fn:function(){return[n("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return e.$emit("show-help")}}},[e._v(e._s(e.$t("help.help")))])]},proxy:!0}])},[n("b-form-input",{attrs:{value:e.searchText,placeholder:e.advanced()?e.$t("searchBar.advanced"):e.$t("searchBar.simple")},on:{input:function(t){return e.setSearchText(t)}}})],1)],1)}),Zt=[],Jt={computed:Object(s["a"])({},Object(_["c"])({optQueryMode:"optQueryMode",searchText:"searchText",fuzzy:"fuzzy"})),methods:Object(s["a"])(Object(s["a"])({},Object(_["d"])({setSearchText:"setSearchText",setFuzzy:"setFuzzy"})),{},{advanced:function(){return"advanced"===this.optQueryMode}})},Xt=Jt,en=Object(m["a"])(Xt,Yt,Zt,!1,null,null,null),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMobile?n("div",[n("b-form-select",{attrs:{value:e.selectedIndicesIds,options:e.indices,multiple:"","select-size":6,"text-field":"name","value-field":"id"},on:{change:function(t){return e.onSelect(t)}}})],1):n("div",[n("div",{staticClass:"d-flex justify-content-between align-content-center"},[n("span",[e._v(" "+e._s(e.selectedIndices.length)+" "+e._s(1===e.selectedIndices.length?e.$t("indexPicker.selectedIndex"):e.$t("indexPicker.selectedIndices"))+" ")]),n("div",[n("b-button",{attrs:{variant:"link"},on:{click:function(t){return e.selectAll()}}},[e._v(" "+e._s(e.$t("indexPicker.selectAll")))]),n("b-button",{attrs:{variant:"link"},on:{click:function(t){return e.selectNone()}}},[e._v(" "+e._s(e.$t("indexPicker.selectNone")))])],1)]),n("b-list-group",{staticClass:"unselectable",attrs:{id:"index-picker-desktop"}},e._l(e.indices,(function(t){return n("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center list-group-item-action pointer",class:{active:e.lastClickIndex===t},on:{click:[function(n){return e.toggleIndex(t,n)},function(n){return n.shiftKey?e.shiftClick(t,n):null}]}},[n("div",{staticClass:"d-flex"},[n("b-checkbox",{staticStyle:{"pointer-events":"none"},attrs:{checked:e.isSelected(t)}}),e._v(" "+e._s(t.name)+" "),n("span",{staticClass:"text-muted timestamp-text ml-2"},[e._v(e._s(e.formatIdxDate(t.timestamp)))])],1),n("b-badge",{staticClass:"version-badge"},[e._v("v"+e._s(t.version))])],1)})),1)],1)},rn=[],an=(n("2532"),n("7db0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-badge",{attrs:{variant:"secondary",pill:e.pill}},[e._v(e._s(e.text))])}),on=[],sn=i["default"].extend({props:{text:String,pill:Boolean}}),cn=sn,un=(n("8021"),Object(m["a"])(cn,an,on,!1,null,"4dea1070",null)),ln=un.exports,dn=n("b166"),hn=i["default"].extend({components:{SmallBadge:ln},data:function(){return{loading:!0,lastClickIndex:null}},computed:Object(s["a"])(Object(s["a"])({},Object(_["c"])(["indices","selectedIndices"])),{},{selectedIndicesIds:function(){return this.selectedIndices.map((function(e){return e.id}))},isMobile:function(){return window.innerWidth<=650}}),methods:Object(s["a"])(Object(s["a"])({},Object(_["b"])({setSelectedIndices:"setSelectedIndices"})),{},{shiftClick:function(e,t){var n=this;if(null!==this.lastClickIndex){var i=this.isSelected(this.lastClickIndex),r=this.indices.indexOf(this.lastClickIndex),a=this.indices.indexOf(e);if(a<r){var o=r;r=a,a=o}for(var s=function(e){i?n.isSelected(n.indices[e])||n.setSelectedIndices([n.indices[e]].concat(Object(I["a"])(n.selectedIndices))):n.setSelectedIndices(n.selectedIndices.filter((function(t){return t!==n.indices[e]})))},c=r;c<=a;c++)s(c)}},selectAll:function(){this.setSelectedIndices(this.indices)},selectNone:function(){this.setSelectedIndices([])},onSelect:function(e){this.setSelectedIndices(this.indices.filter((function(t){return e.includes(t.id)})))},formatIdxDate:function(e){return Object(dn["a"])(new Date(1e3*e),"yyyy-MM-dd")},toggleIndex:function(e,t){t.shiftKey||(this.lastClickIndex=e,this.isSelected(e)?this.setSelectedIndices(this.selectedIndices.filter((function(t){return t.id!=e.id}))):this.setSelectedIndices([e].concat(Object(I["a"])(this.selectedIndices))))},isSelected:function(e){return null!=this.selectedIndices.find((function(t){return t.id==e.id}))}})}),pn=hn,mn=(n("4c5b"),Object(m["a"])(pn,nn,rn,!1,null,"65eed353",null)),fn=mn.exports;n("498a"),n("25f0"),n("e9c4");i["default"].use(_["a"]);var gn=new _["a"].Store({state:{seed:0,indices:[],tags:[],sist2Info:null,sizeMin:void 0,sizeMax:void 0,dateBoundsMin:null,dateBoundsMax:null,dateMin:void 0,dateMax:void 0,searchText:"",pathText:"",sortMode:"score",fuzzy:!1,size:60,optLang:"en",optLangIsDefault:!0,optHideDuplicates:!0,optTheme:"light",optDisplay:"grid",optHighlight:!0,optTagOrOperator:!1,optFuzzy:!0,optFragmentSize:200,optQueryMode:"simple",optSearchInPath:!1,optColumns:"auto",optSuggestPath:!0,optTreemapType:"cascaded",optTreemapTiling:"squarify",optTreemapColorGroupingDepth:3,optTreemapSize:"medium",optTreemapColor:"PuBuGn",optLightboxLoadOnlyCurrent:!1,optLightboxSlideDuration:15,optHideLegacy:!1,optUpdateMimeMap:!1,optUseDatePicker:!1,optVidPreviewInterval:700,optSimpleLightbox:!0,_onLoadSelectedIndices:[],_onLoadSelectedMimeTypes:[],_onLoadSelectedTags:[],selectedIndices:[],selectedMimeTypes:[],selectedTags:[],lastQueryResults:null,keySequence:0,querySequence:0,uiTagHover:null,uiLightboxIsOpen:!1,uiShowLightbox:!1,uiLightboxSources:[],uiLightboxThumbs:[],uiLightboxCaptions:[],uiLightboxTypes:[],uiLightboxKey:0,uiLightboxSlide:0,uiReachedScrollEnd:!1,uiDetailsMimeAgg:null,uiShowDetails:!1,uiMimeMap:[]},mutations:{setUiShowDetails:function(e,t){return e.uiShowDetails=t},setUiDetailsMimeAgg:function(e,t){return e.uiDetailsMimeAgg=t},setUiReachedScrollEnd:function(e,t){return e.uiReachedScrollEnd=t},setTags:function(e,t){return e.tags=t},setPathText:function(e,t){return e.pathText=t},setSizeMin:function(e,t){return e.sizeMin=t},setSizeMax:function(e,t){return e.sizeMax=t},setSist2Info:function(e,t){return e.sist2Info=t},setSeed:function(e,t){return e.seed=t},setOptHideDuplicates:function(e,t){return e.optHideDuplicates=t},setOptLang:function(e,t){e.optLang=t,e.optLangIsDefault=!1},setSortMode:function(e,t){return e.sortMode=t},setIndices:function(e,t){e.indices=t,e._onLoadSelectedIndices.length>0?e.selectedIndices=t.filter((function(t){return e._onLoadSelectedIndices.some((function(e){return t.id.startsWith(e)}))})):e.selectedIndices=t},setDateMin:function(e,t){return e.dateMin=t},setDateMax:function(e,t){return e.dateMax=t},setDateBoundsMin:function(e,t){return e.dateBoundsMin=t},setDateBoundsMax:function(e,t){return e.dateBoundsMax=t},setSearchText:function(e,t){return e.searchText=t},setFuzzy:function(e,t){return e.fuzzy=t},setLastQueryResult:function(e,t){return e.lastQueryResults=t},_setOnLoadSelectedIndices:function(e,t){return e._onLoadSelectedIndices=t},_setOnLoadSelectedMimeTypes:function(e,t){return e._onLoadSelectedMimeTypes=t},_setOnLoadSelectedTags:function(e,t){return e._onLoadSelectedTags=t},setSelectedIndices:function(e,t){return e.selectedIndices=t},setSelectedMimeTypes:function(e,t){return e.selectedMimeTypes=t},setSelectedTags:function(e,t){return e.selectedTags=t},setUiTagHover:function(e,t){return e.uiTagHover=t},setUiLightboxIsOpen:function(e,t){return e.uiLightboxIsOpen=t},_setUiShowLightbox:function(e,t){return e.uiShowLightbox=t},setUiLightboxKey:function(e,t){return e.uiLightboxKey=t},_setKeySequence:function(e,t){return e.keySequence=t},_setQuerySequence:function(e,t){return e.querySequence=t},addLightboxSource:function(e,t){var n=t.source,i=t.thumbnail,r=t.caption,a=t.type;e.uiLightboxSources.push(n),e.uiLightboxThumbs.push(i),e.uiLightboxCaptions.push(r),e.uiLightboxTypes.push(a)},setUiLightboxSlide:function(e,t){return e.uiLightboxSlide=t},setUiLightboxSources:function(e,t){return e.uiLightboxSources=t},setUiLightboxThumbs:function(e,t){return e.uiLightboxThumbs=t},setUiLightboxTypes:function(e,t){return e.uiLightboxTypes=t},setUiLightboxCaptions:function(e,t){return e.uiLightboxCaptions=t},setOptTheme:function(e,t){return e.optTheme=t},setOptDisplay:function(e,t){return e.optDisplay=t},setOptColumns:function(e,t){return e.optColumns=t},setOptHighlight:function(e,t){return e.optHighlight=t},setOptFuzzy:function(e,t){return e.fuzzy=t},setOptSearchInPath:function(e,t){return e.optSearchInPath=t},setOptSuggestPath:function(e,t){return e.optSuggestPath=t},setOptFragmentSize:function(e,t){return e.optFragmentSize=t},setOptQueryMode:function(e,t){return e.optQueryMode=t},setOptResultSize:function(e,t){return e.size=t},setOptTagOrOperator:function(e,t){return e.optTagOrOperator=t},setOptTreemapType:function(e,t){return e.optTreemapType=t},setOptTreemapTiling:function(e,t){return e.optTreemapTiling=t},setOptTreemapColorGroupingDepth:function(e,t){return e.optTreemapColorGroupingDepth=t},setOptTreemapSize:function(e,t){return e.optTreemapSize=t},setOptTreemapColor:function(e,t){return e.optTreemapColor=t},setOptHideLegacy:function(e,t){return e.optHideLegacy=t},setOptUpdateMimeMap:function(e,t){return e.optUpdateMimeMap=t},setOptUseDatePicker:function(e,t){return e.optUseDatePicker=t},setOptVidPreviewInterval:function(e,t){return e.optVidPreviewInterval=t},setOptSimpleLightbox:function(e,t){return e.optSimpleLightbox=t},setOptLightboxLoadOnlyCurrent:function(e,t){return e.optLightboxLoadOnlyCurrent=t},setOptLightboxSlideDuration:function(e,t){return e.optLightboxSlideDuration=t},setUiMimeMap:function(e,t){return e.uiMimeMap=t},busUpdateWallItems:function(){},busUpdateTags:function(){},busSearch:function(){},busTouchEnd:function(){},busTnTouchStart:function(e){}},actions:{setSist2Info:function(e,t){e.commit("setSist2Info",t),e.state.optLangIsDefault&&e.commit("setOptLang",t.lang)},loadFromArgs:function(e,t){var n=e.commit;t.query.q&&n("setSearchText",t.query.q),void 0!==t.query.fuzzy&&n("setFuzzy",!0),t.query.i&&n("_setOnLoadSelectedIndices",Array.isArray(t.query.i)?t.query.i:[t.query.i]),t.query.dMin&&n("setDateMin",Number(t.query.dMin)),t.query.dMax&&n("setDateMax",Number(t.query.dMax)),t.query.sMin&&n("setSizeMin",Number(t.query.sMin)),t.query.sMax&&n("setSizeMax",Number(t.query.sMax)),t.query.path&&n("setPathText",t.query.path),t.query.m&&n("_setOnLoadSelectedMimeTypes",G(t.query.m)),t.query.t&&n("_setOnLoadSelectedTags",t.query.t.split(",")),t.query.sort&&(n("setSortMode",t.query.sort),n("setSeed",Number(t.query.seed)))},updateArgs:function(e,t){return Object(Kt["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.state,"/"===t.currentRoute.path){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,t.push({query:{q:i.searchText.trim()?i.searchText.trim().replace(/\s+/g," "):void 0,fuzzy:i.fuzzy?null:void 0,i:i.selectedIndices?i.selectedIndices.map((function(e){return e.idPrefix})):void 0,dMin:i.dateMin,dMax:i.dateMax,sMin:i.sizeMin,sMax:i.sizeMax,path:i.pathText?i.pathText:void 0,m:Q(i.selectedMimeTypes),t:0==i.selectedTags.length?void 0:i.selectedTags.join(","),sort:"score"===i.sortMode?void 0:i.sortMode,seed:"random"===i.sortMode?i.seed.toString():void 0}}).catch((function(){}));case 5:case"end":return n.stop()}}),n)})))()},updateConfiguration:function(e){var t=e.state,n={};Object.keys(t).forEach((function(e){e.startsWith("opt")&&(n[e]=t[e])})),localStorage.setItem("sist2_configuration",JSON.stringify(n))},loadConfiguration:function(e){var t=e.state,n=localStorage.getItem("sist2_configuration");if(n){var i=JSON.parse(n);Object.keys(t).forEach((function(e){e.startsWith("opt")&&(t[e]=i[e])}))}},setSelectedIndices:function(e,t){var n=e.commit;return n("setSelectedIndices",t)},getKeySequence:function(e){var t=e.commit,n=e.state,i=n.keySequence;return t("_setKeySequence",i+1),i},incrementQuerySequence:function(e){var t=e.commit,n=e.state,i=n.querySequence;return t("_setQuerySequence",i+1),i},remountLightbox:function(e){var t=e.commit,n=e.state;t("setUiLightboxKey",n.uiLightboxKey+1)},showLightbox:function(e){var t=e.commit,n=e.state;t("_setUiShowLightbox",!n.uiShowLightbox)},clearResults:function(e){var t=e.commit;t("setLastQueryResult",null),t("_setKeySequence",0),t("_setUiShowLightbox",!1),t("setUiLightboxSources",[]),t("setUiLightboxThumbs",[]),t("setUiLightboxTypes",[]),t("setUiLightboxCaptions",[]),t("setUiLightboxKey",0),t("setUiDetailsMimeAgg",null)}},modules:{},getters:{seed:function(e){return e.seed},getPathText:function(e){return e.pathText},indices:function(e){return e.indices},sist2Info:function(e){return e.sist2Info},indexMap:function(e){var t={};return e.indices.forEach((function(e){return t[e.id]=e})),t},selectedIndices:function(e){return e.selectedIndices},_onLoadSelectedIndices:function(e){return e._onLoadSelectedIndices},selectedMimeTypes:function(e){return e.selectedMimeTypes},selectedTags:function(e){return e.selectedTags},dateMin:function(e){return e.dateMin},dateMax:function(e){return e.dateMax},sizeMin:function(e){return e.sizeMin},sizeMax:function(e){return e.sizeMax},searchText:function(e){return e.searchText},pathText:function(e){return e.pathText},fuzzy:function(e){return e.fuzzy},size:function(e){return e.size},sortMode:function(e){return e.sortMode},lastQueryResult:function(e){return e.lastQueryResults},lastDoc:function(e){return null==e.lastQueryResults?null:e.lastQueryResults.hits.hits.slice(-1)[0]},uiTagHover:function(e){return e.uiTagHover},uiShowLightbox:function(e){return e.uiShowLightbox},uiLightboxSources:function(e){return e.uiLightboxSources},uiLightboxThumbs:function(e){return e.uiLightboxThumbs},uiLightboxCaptions:function(e){return e.uiLightboxCaptions},uiLightboxTypes:function(e){return e.uiLightboxTypes},uiLightboxKey:function(e){return e.uiLightboxKey},uiLightboxSlide:function(e){return e.uiLightboxSlide},optHideDuplicates:function(e){return e.optHideDuplicates},optLang:function(e){return e.optLang},optTheme:function(e){return e.optTheme},optDisplay:function(e){return e.optDisplay},optColumns:function(e){return e.optColumns},optHighlight:function(e){return e.optHighlight},optTagOrOperator:function(e){return e.optTagOrOperator},optFuzzy:function(e){return e.optFuzzy},optSearchInPath:function(e){return e.optSearchInPath},optSuggestPath:function(e){return e.optSuggestPath},optFragmentSize:function(e){return e.optFragmentSize},optQueryMode:function(e){return e.optQueryMode},optTreemapType:function(e){return e.optTreemapType},optTreemapTiling:function(e){return e.optTreemapTiling},optTreemapSize:function(e){return e.optTreemapSize},optTreemapColorGroupingDepth:function(e){return e.optTreemapColorGroupingDepth},optTreemapColor:function(e){return e.optTreemapColor},optLightboxLoadOnlyCurrent:function(e){return e.optLightboxLoadOnlyCurrent},optLightboxSlideDuration:function(e){return e.optLightboxSlideDuration},optResultSize:function(e){return e.size},optHideLegacy:function(e){return e.optHideLegacy},optUpdateMimeMap:function(e){return e.optUpdateMimeMap},optUseDatePicker:function(e){return e.optUseDatePicker},optVidPreviewInterval:function(e){return e.optVidPreviewInterval},optSimpleLightbox:function(e){return e.optSimpleLightbox}}}),bn={score:{mode:[{_score:{order:"desc"}},{_tie:{order:"asc"}}],key:function(e){return e._score}},random:{mode:[{_score:{order:"desc"}},{_tie:{order:"asc"}}],key:function(e){return e._score}},dateAsc:{mode:[{mtime:{order:"asc"}},{_tie:{order:"asc"}}],key:function(e){return e._source.mtime}},dateDesc:{mode:[{mtime:{order:"desc"}},{_tie:{order:"asc"}}],key:function(e){return e._source.mtime}},sizeAsc:{mode:[{size:{order:"asc"}},{_tie:{order:"asc"}}],key:function(e){return e._source.size}},sizeDesc:{mode:[{size:{order:"desc"}},{_tie:{order:"asc"}}],key:function(e){return e._source.size}},nameAsc:{mode:[{name:{order:"asc"}},{_tie:{order:"asc"}}],key:function(e){return e._source.name}},nameDesc:{mode:[{name:{order:"desc"}},{_tie:{order:"asc"}}],key:function(e){return e._source.name}}},vn=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,[{key:"searchQuery",value:function(){var e=gn.getters,t=e.searchText,n=e.pathText,i=""===t,r=e.sizeMin,a=e.sizeMax,o=e.dateMin,s=e.dateMax,c=e.fuzzy,u=e.size,l=e.lastDoc,d=e.selectedIndices.map((function(e){return e.id})),h=e.selectedMimeTypes,p=e.selectedTags,m=gn.state.sist2Info.esVersionLegacy,f=[{terms:{index:d}}];r&&a?f.push({range:{size:{gte:r,lte:a}}}):r?f.push({range:{size:{gte:r}}}):a&&f.push({range:{size:{lte:a}}}),o&&s?f.push({range:{mtime:{gte:o,lte:s}}}):o?f.push({range:{mtime:{gte:o}}}):s&&f.push({range:{mtime:{lte:s}}});var g=["name^8","content^3","album^8","artist^8","title^8","genre^2","album_artist^8","font_name^6"];e.optSearchInPath&&g.push("path.text^5"),c&&(g.push("content.nGram"),e.optSearchInPath&&g.push("path.nGram"),g.push("name.nGram^3"));var b,v=n.replace(/\/$/,"").toLowerCase();""!==v&&f.push({term:{path:v}}),h.length>0&&f.push({terms:{mime:h}}),p.length>0&&(e.optTagOrOperator?f.push({terms:{tag:p}}):p.forEach((function(e){return f.push({term:{tag:e}})}))),b="simple"===e.optQueryMode?{simple_query_string:{query:t,fields:g,default_operator:"and"}}:{query_string:{query:t,default_field:"name",default_operator:"and"}};var x={_source:{excludes:["content","_tie"]},query:{bool:{filter:f}},sort:bn[e.sortMode].mode,aggs:{total_size:{sum:{field:"size"}},total_count:{value_count:{field:"size"}}},size:u};return i||(x.query.bool.must=b),l&&(x.search_after=[bn[e.sortMode].key(l),l["_id"]]),e.optHighlight&&(x.highlight={pre_tags:["<mark>"],post_tags:["</mark>"],fragment_size:e.optFragmentSize,number_of_fragments:1,order:"score",fields:{content:{},name:{},"name.nGram":{},"content.nGram":{},font_name:{}}},m||(x.highlight.max_analyzed_offset=9999999),e.optSearchInPath&&(x.highlight.fields["path.text"]={},x.highlight.fields["path.nGram"]={})),"random"===e.sortMode&&(x.query={function_score:{query:{bool:{must:f}},functions:[{random_score:{seed:e.seed,field:"_seq_no"},weight:1e3}],boost_mode:"sum"}},i||x.query.function_score.query.bool.must.push(b)),x}}]),e}(),xn=new vn,yn=n("b047"),_n=n.n(yn),Tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("GridLayout",{ref:"grid-layout",attrs:{options:e.gridOptions},on:{append:e.append,"layout-complete":function(t){return e.$emit("layout-complete")}}},e._l(e.docs,(function(t){return n("DocCard",{key:t._id,attrs:{doc:t,width:e.width}})})),1)},Sn=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"doc-card",class:{"sub-document":e.doc._props.isSubDocument},style:"width: "+e.width+"px",on:{click:function(t){return e.$store.commit("busTnTouchStart",null)}}},[n("b-card",{attrs:{"no-body":"","img-top":""}},[n("DocInfoModal",{attrs:{show:e.showInfo,doc:e.doc},on:{close:function(t){e.showInfo=!1}}}),n("ContentDiv",{attrs:{doc:e.doc}}),n("FullThumbnail",{attrs:{doc:e.doc,"small-badge":e.smallBadge},on:{onThumbnailClick:function(t){return e.onThumbnailClick()}}}),e.doc._props.isAudio?n("audio",{ref:"audio",staticClass:"audio-fit fit",attrs:{preload:"none",controls:"",type:e.doc._source.mime,src:"f/"+e.doc._id},on:{play:function(t){return e.onAudioPlay()}}}):e._e(),n("b-card-body",{staticClass:"padding-03"},[n("div",{staticStyle:{display:"flex"}},[n("span",{staticClass:"info-icon",on:{click:function(t){return e.onInfoClick()}}}),n("DocFileTitle",{attrs:{doc:e.doc}})],1),n("div",{staticClass:"card-text"},[n("TagContainer",{attrs:{hit:e.doc}})],1)])],1)],1)},$n=[],kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{mouseenter:function(t){e.showAddButton=!0},mouseleave:function(t){e.showAddButton=!1}}},[n("b-modal",{attrs:{title:e.$t("saveTagModalTitle"),"hide-footer":"","no-fade":"",centered:"",size:"lg",static:"",lazy:""},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("b-row",[n("b-col",{staticStyle:{"flex-grow":"2"},attrs:{sm:""}},[n("VueSimpleSuggest",{ref:"suggest",staticClass:"form-control-fix-flex",staticStyle:{"margin-top":"17px"},attrs:{value:e.tagText,list:e.suggestTag,"max-suggestions":0,placeholder:e.$t("saveTagPlaceholder")},on:{select:function(t){return e.setTagText(t)},input:function(t){return e.setTagText(t)}},scopedSlots:e._u([{key:"suggestion-item",fn:function(t){var i=t.suggestion,r=t.query;return n("div",{},[n("div",{staticClass:"suggestion-line"},[n("span",{staticClass:"badge badge-suggestion",style:{background:e.getBg(i),color:e.getFg(i)}},[n("strong",[e._v(e._s(r))]),e._v(e._s(e.getSuggestionWithoutQueryPrefix(i,r))+" ")])])])}}])})],1),n("b-col",{staticClass:"mt-4"},[n("TwitterColorPicker",{staticClass:"mr-auto ml-auto",attrs:{triangle:"hide",width:252},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],1),n("b-button",{staticClass:"mt-2",staticStyle:{float:"right"},attrs:{variant:"primary"},on:{click:function(t){return e.saveTag()}}},[e._v(e._s(e.$t("confirm"))+" ")])],1),e._l(e.hit._tags,(function(t){return[t.userTag?n("div",{key:t.rawText,staticStyle:{display:"inline-block"}},[n("span",{staticClass:"badge pointer",class:e.badgeClass(t),style:e.badgeStyle(t),attrs:{id:e.hit._id+t.rawText,title:t.text,tabindex:"-1"},on:{contextmenu:function(n){return e.onTagRightClick(t,n)}}},[e._v(e._s(t.text.split(".").pop()))]),n("b-popover",{attrs:{target:e.hit._id+t.rawText,triggers:"focus blur",placement:"top"}},[n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return e.onTagDeleteClick(t,n)}}},[e._v(e._s(e.$t("deleteTag")))])],1)],1):n("span",{key:t.text,staticClass:"badge",class:e.badgeClass(t),style:e.badgeStyle(t)},[e._v(e._s(t.text.split(".").pop()))])]})),e.showAddButton?n("small",{staticClass:"badge add-tag-button",on:{click:function(t){return e.tagAdd()}}},[e._v(e._s(e.$t("addTag")))]):n("small",{staticClass:"text-muted badge-size"},[e._v(e._s(e.humanFileSize(e.hit._source.size)))])],2)},zn=[],Mn=n("c345"),Cn=n("5111"),On=i["default"].extend({components:{TwitterColorPicker:Mn["Twitter"],VueSimpleSuggest:Cn["a"]},props:["hit"],data:function(){return{showAddButton:!1,showModal:!1,tagText:null,color:{hex:"#e0e0e0"}}},computed:{tagHover:function(){return this.$store.getters["uiTagHover"]}},methods:{humanFileSize:B,getSuggestionWithoutQueryPrefix:function(e,t){return e.id.slice(t.length,-8)},getBg:function(e){return e.id.slice(-7)},getFg:function(e){return F(e.id.slice(-7))>50?"#000":"#fff"},setTagText:function(e){this.$refs.suggest.clearSuggestions(),"string"!==typeof e?(this.color={hex:"#"+e.id.split("#")[1]},this.tagText=e):this.tagText={id:e,title:e}},badgeClass:function(e){return"badge-".concat(e.style)},badgeStyle:function(e){return{background:e.bg,color:e.fg}},onTagHover:function(e){e.userTag&&this.$store.commit("setUiTagHover",e)},onTagLeave:function(){this.$store.commit("setUiTagHover",null)},onTagDeleteClick:function(e,t){var n=this;this.hit._tags=this.hit._tags.filter((function(t){return t!==e})),ie.deleteTag(e.rawText,this.hit).then((function(){n.$store.commit("busUpdateWallItems"),n.$store.commit("busUpdateTags")}))},tagAdd:function(){this.showModal=!0},saveTag:function(){var e=this;if(this.tagText.id.includes("#"))this.$bvToast.toast(this.$t("toast.invalidTag"),{title:this.$t("toast.invalidTagTitle"),noAutoHide:!0,toaster:"b-toaster-bottom-right",headerClass:"toast-header-error",bodyClass:"toast-body-error"});else{var t=this.tagText.id+this.color.hex.replace("#",".#"),n=this.hit._tags.filter((function(e){return e.userTag}));null==n.find((function(e){return e.rawText===t}))?(this.hit._tags.push(ie.createUserTag(t)),ie.saveTag(t,this.hit).then((function(){e.tagText=null,e.showModal=!1,e.$store.commit("busUpdateWallItems"),e.$store.commit("busUpdateTags")}))):this.$bvToast.toast(this.$t("toast.dupeTag"),{title:this.$t("toast.dupeTagTitle"),noAutoHide:!0,toaster:"b-toaster-bottom-right",headerClass:"toast-header-error",bodyClass:"toast-body-error"})}},suggestTag:function(e){var t=this;return Object(Kt["a"])(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=e.toLowerCase(),n.next=3,t.getTagChoices(e);case 3:for(i=n.sent,r=[],a=0;a<i.length;a++)~i[a].toLowerCase().indexOf(e)&&r.push(i[a]);return n.abrupt("return",r.sort().map((function(e){return{title:e.split(".").slice(0,-1).join("."),id:e}})));case 7:case"end":return n.stop()}}),n)})))()},getTagChoices:function(e){return new Promise((function(t){ie.esQuery({suggest:{tag:{prefix:e,completion:{field:"suggest-tag",skip_duplicates:!0,size:1e4}}}}).then((function(e){var n=[];e["suggest"]["tag"][0]["options"].map((function(e){return e["_source"]["tag"]})).forEach((function(e){e.forEach((function(e){var t=e.slice(0,-8);n.find((function(e){return e.slice(0,-8)===t}))||n.push(e)}))})),t(n)}))}))}}}),In=On,Ln=(n("63bb"),n("c4ff"),Object(m["a"])(In,kn,zn,!1,null,"c5eaaf14",null)),Dn=Ln.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"file-title-anchor",attrs:{href:"f/"+e.doc._id,target:"_blank"}},[n("div",{staticClass:"file-title",attrs:{title:e.doc._source.path+"/"+e.doc._source.name+e.ext(e.doc)},domProps:{innerHTML:e._s(e.fileName()+e.ext(e.doc))}})])},En=[],qn={name:"DocFileTitle",props:["doc"],methods:{ext:E,fileName:function(){return this.doc.highlight?this.doc.highlight["name.nGram"]?this.doc.highlight["name.nGram"]:this.doc.highlight.name?this.doc.highlight.name:this.doc._source.name:this.doc._source.name}}},jn=qn,An=(n("ac16"),Object(m["a"])(jn,Pn,En,!1,null,"786adab2",null)),Hn=An.exports,Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{visible:e.show,size:"lg","hide-footer":!0,static:"",lazy:""},on:{close:function(t){return e.$emit("close")},hide:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"modal-title",fn:function(){return[n("h5",{staticClass:"modal-title",attrs:{title:e.doc._source.name+e.ext(e.doc)}},[e._v(" "+e._s(e.doc._source.name+e.ext(e.doc))+" "),n("router-link",{attrs:{to:"/file?byId="+e.doc._id}},[e._v("#")])],1)]},proxy:!0}])},[e.doc._props.hasThumbnail?n("img",{staticClass:"fit card-img-top",attrs:{src:"t/"+e.doc._source.index+"/"+e.doc._id,alt:""}}):e._e(),n("InfoTable",{attrs:{doc:e.doc}}),n("LazyContentDiv",{attrs:{"doc-id":e.doc._id}})],1)},Un=[],Nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-table",{staticClass:"mb-0 mt-4",attrs:{items:e.tableItems,small:"",borderless:"",responsive:"md","thead-class":"hidden"},scopedSlots:e._u([{key:"cell(value)",fn:function(t){return["html"in t.item?n("span",{domProps:{innerHTML:e._s(t.item.html)}}):n("span",[e._v(e._s(t.value))])]}}])})},Fn=[];function Rn(e,t){return isNaN(e)||isNaN(t)?"":'<a target="_blank" href="https://maps.google.com/?q='.concat(e,",").concat(t,"&ll=").concat(e,",").concat(t,'&t=k&z=17">').concat(e,", ").concat(t,"</a>")}function Vn(e,t){var n=e.split(","),i=Number(n[0].trim().split(":")[0])/Number(n[0].trim().split(":")[1]),r=Number(n[1].trim().split(":")[0])/Number(n[1].trim().split(":")[1]),a=Number(n[2].trim().split(":")[0])/Number(n[2].trim().split(":")[1]);return(i+r/60+a/3600)*("S"===t||"W"===t?-1:1)}var Qn={name:"InfoTable",props:["doc"],data:function(){return{indexName:"loading..."}},computed:{tableItems:function(){this.indexName;var e=this.doc._source,t=[{key:"index",value:"[".concat(this.indexName,"]")},{key:"mtime",value:N(e.mtime)},{key:"mime",value:e.mime},{key:"size",value:B(e.size)},{key:"path",value:e.path}];"width"in this.doc._source&&t.push({key:"image size",value:"".concat(e.width,"x").concat(e.height)});var n=["title","duration","audioc","videoc","bitrate","artist","album","album_artist","genre","font_name","author","modified_by","pages","tag","exif_make","exif_software","exif_exposure_time","exif_fnumber","exif_focal_length","exif_user_comment","exif_iso_speed_ratings","exif_model","exif_datetime","checksum"];return n.forEach((function(n){n in e&&t.push({key:n,value:e[n]})})),Object.keys(e).forEach((function(n){(n.startsWith("mt_")||n.startsWith("int_"))&&t.push({key:n,value:e[n]})})),"exif_gps_longitude_dec"in e?t.push({key:"Exif GPS",html:Rn(e["exif_gps_latitude_dec"],e["exif_gps_longitude_dec"])}):"exif_gps_longitude_dms"in e&&t.push({key:"Exif GPS",html:Rn(Vn(e["exif_gps_latitude_dms"],e["exif_gps_latitude_ref"]),Vn(e["exif_gps_longitude_dms"],e["exif_gps_longitude_ref"]))}),t}},mounted:function(){var e=this;this.$store.getters.indexMap[this.doc.index]&&(this.indexName=this.$store.getters.indexMap[this.doc._source.index].name),window.setTimeout((function(){e.indexName=e.$store.getters.indexMap[e.doc._source.index].name}),500)}},Gn=Qn,Wn=Object(m["a"])(Gn,Nn,Fn,!1,null,"7ab9d2ea",null),Kn=Wn.exports,Yn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("Preloader"):e.content?n("div",{staticClass:"content-div"},[e._v(e._s(e.content))]):e._e()},Zn=[],Jn={name:"LazyContentDiv",components:{Preloader:Se},props:["docId"],data:function(){return{content:"",loading:!0}},mounted:function(){var e=this;ie.getDocInfo(this.docId).then((function(t){e.content=t.data.content,e.loading=!1}))}},Xn=Jn,ei=Object(m["a"])(Xn,Yn,Zn,!1,null,"3644e939",null),ti=ei.exports,ni={name:"DocInfoModal",components:{LazyContentDiv:ti,InfoTable:Kn},props:["doc","show"],methods:{ext:E}},ii=ni,ri=Object(m["a"])(ii,Bn,Un,!1,null,"1410bcc9",null),ai=ri.exports,oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.content()?n("div",{staticClass:"content-div",domProps:{innerHTML:e._s(e.content())}}):e._e()},si=[],ci={name:"ContentDiv",props:["doc"],methods:{content:function(){return this.doc.highlight?this.doc.highlight["content.nGram"]?this.doc.highlight["content.nGram"][0]:this.doc.highlight.content?this.doc.highlight.content[0]:void 0:null}}},ui=ci,li=Object(m["a"])(ui,oi,si,!1,null,"a093e946",null),di=li.exports,hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.doc._props.hasThumbnail?n("div",{staticClass:"img-wrapper",on:{mouseenter:function(t){return e.onTnEnter()},mouseleave:function(t){return e.onTnLeave()},touchstart:function(t){return e.onTouchStart()}}},[e.doc._props.isAudio?n("div",{staticClass:"card-img-overlay",class:{"small-badge":e.smallBadge}},[n("span",{staticClass:"badge badge-resolution"},[e._v(e._s(e.humanTime(e.doc._source.duration)))])]):e._e(),e.doc._props.isImage&&!e.hover&&e.doc._props.tnW/e.doc._props.tnH<5?n("div",{staticClass:"card-img-overlay",class:{"small-badge":e.smallBadge}},[n("span",{staticClass:"badge badge-resolution"},[e._v(e._s(e.doc._source.width+"x"+e.doc._source.height))])]):e._e(),(e.doc._props.isVideo||e.doc._props.isGif)&&e.doc._source.duration>0&&!e.hover?n("div",{staticClass:"card-img-overlay",class:{"small-badge":e.smallBadge}},[n("span",{staticClass:"badge badge-resolution"},[e._v(e._s(e.humanTime(e.doc._source.duration)))])]):e._e(),e.doc._props.isPlayableVideo?n("div",{staticClass:"play"},[n("svg",{attrs:{viewBox:"0 0 494.942 494.942",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m35.353 0 424.236 247.471-424.236 247.471z"}})])]):e._e(),e.doc._props.isPlayableImage||e.doc._props.isPlayableVideo?n("img",{ref:"tn",staticClass:"pointer fit card-img-top",style:{height:e.doc._props.isGif&&e.hover?e.tnHeight()+"px":void 0},attrs:{src:e.tnSrc,alt:""},on:{click:function(t){return e.onThumbnailClick()}}}):n("img",{staticClass:"fit card-img-top",attrs:{src:e.tnSrc,alt:""}}),e.hover&&e.doc._props.hasVidPreview?n("ThumbnailProgressBar",{attrs:{progress:(e.currentThumbnailNum+1)/e.doc._props.tnNum}}):e._e()],1):e._e()},pi=[],mi=(n("4d90"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"thumbnail-progress-bar",style:{width:e.percentProgress+"%"}})}),fi=[],gi={name:"ThumbnailProgressBar",props:["doc","progress"],computed:{percentProgress:function(){return Math.min(Math.max(100*this.progress,0),100)}}},bi=gi,vi=(n("383e"),Object(m["a"])(bi,mi,fi,!1,null,"5375f4d0",null)),xi=vi.exports,yi={name:"FullThumbnail",props:["doc","smallBadge"],components:{ThumbnailProgressBar:xi},data:function(){return{hover:!1,currentThumbnailNum:0,timeoutId:null}},created:function(){var e=this;this.$store.subscribe((function(t){"busTnTouchStart"===t.type&&t.payload!==e.doc._id&&e.onTnLeave()}))},computed:{tnSrc:function(){var e=this.doc,t=e._props;return t.isGif&&this.hover?"f/".concat(e._id):0===this.currentThumbnailNum?"t/".concat(e._source.index,"/").concat(e._id):"t/".concat(e._source.index,"/").concat(e._id).concat(String(this.currentThumbnailNum).padStart(4,"0"))}},methods:{humanTime:U,onThumbnailClick:function(){this.$emit("onThumbnailClick")},tnHeight:function(){return this.$refs.tn.height},tnWidth:function(){return this.$refs.tn.width},onTnEnter:function(){this.hover=!0,this.doc._props.hasVidPreview&&(this.currentThumbnailNum+=1,this.scheduleNextTnNum())},onTnLeave:function(){this.currentThumbnailNum=0,this.hover=!1,null!==this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null)},scheduleNextTnNum:function(){var e,t=this,n=null!==(e=this.$store.state.optVidPreviewInterval)&&void 0!==e?e:700;this.timeoutId=window.setTimeout((function(){t.hover&&(t.scheduleNextTnNum(),t.currentThumbnailNum===t.doc._props.tnNum-1?t.currentThumbnailNum=0:t.currentThumbnailNum+=1)}),n)},onTouchStart:function(){this.$store.commit("busTnTouchStart",this.doc._id),this.hover||this.onTnEnter()}}},_i=yi,Ti=(n("5d2a"),Object(m["a"])(_i,hi,pi,!1,null,"46bd3aec",null)),Si=Ti.exports,wi={components:{FullThumbnail:Si,ContentDiv:di,DocInfoModal:ai,DocFileTitle:Hn,TagContainer:Dn},props:["doc","width"],data:function(){return{ext:E,showInfo:!1}},computed:{smallBadge:function(){return this.width<150}},methods:{humanFileSize:B,humanTime:U,onInfoClick:function(){this.showInfo=!0},onThumbnailClick:function(){var e=this;return Object(Kt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setUiLightboxSlide",e.doc._seq),t.next=3,e.$store.dispatch("showLightbox");case 3:case"end":return t.stop()}}),t)})))()},onAudioPlay:function(){var e=this;document.getElementsByTagName("audio").forEach((function(t){t!==e.$refs["audio"]&&t.pause()}))}}},$i=wi,ki=(n("b9df"),n("1300"),Object(m["a"])($i,wn,$n,!1,null,"4abe9659",null)),zi=ki.exports,Mi=n("527a");i["default"].use(Mi["a"]);var Ci=i["default"].extend({components:{DocCard:zi},props:["docs","append"],data:function(){return{width:0,gridOptions:{align:"center",margin:0,transitionDuration:0,isOverflowScroll:!1,isConstantSize:!1,useFit:!1,useRecycle:!1}}},computed:{colCount:function(){var e=this.$store.getters["optColumns"];return"auto"===e?Math.round(this.$refs["grid-layout"].$el.scrollWidth/300):e}},mounted:function(){var e=this;this.width=this.$refs["grid-layout"].$el.scrollWidth/this.colCount,1===this.colCount&&this.$refs["grid-layout"].$el.classList.add("grid-single-column"),this.$store.subscribe((function(t){"busUpdateWallItems"===t.type&&e.$refs["grid-layout"]&&e.$refs["grid-layout"].updateItems()}))}}),Oi=Ci,Ii=Object(m["a"])(Oi,Tn,Sn,!1,null,null,null),Li=Ii.exports,Di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"disable-animations":e.$store.state.optSimpleLightbox}},[n("FsLightbox",{key:e.lightboxKey,ref:"lightbox",attrs:{toggler:e.showLightbox,sources:e.lightboxSources,thumbs:e.lightboxThumbs,captions:e.lightboxCaptions,types:e.lightboxTypes,"source-index":e.lightboxSlide,"custom-toolbar-buttons":e.customButtons,"slideshow-time":1e3*e.$store.getters.optLightboxSlideDuration,"zoom-increment":.25,"load-only-current-source":e.$store.getters.optLightboxLoadOnlyCurrent,"on-close":e.onClose,"on-open":e.onShow,"on-slide-change":e.onSlideChange}}),n("a",{staticStyle:{display:"none"},attrs:{id:"lightbox-download"}})],1)},Pi=[],Ei=n("e099"),qi=n.n(Ei),ji={name:"Lightbox",components:{FsLightbox:qi.a},data:function(){return{disableAnimations:!0,customButtons:[{viewBox:"0 0 384.928 384.928",d:"M321.339,245.334c-4.74-4.692-12.439-4.704-17.179,0l-99.551,98.564V12.03 c0-6.641-5.438-12.03-12.151-12.03s-12.151,5.39-12.151,12.03v331.868l-99.551-98.552c-4.74-4.704-12.439-4.704-17.179,0 s-4.74,12.319,0,17.011l120.291,119.088c4.692,4.644,12.499,4.644,17.191,0l120.291-119.088 C326.091,257.653,326.091,250.038,321.339,245.334C316.599,240.642,326.091,250.038,321.339,245.334z",width:"17px",height:"17px",title:"Download",onClick:this.onDownloadClick}]}},computed:{showLightbox:function(){return this.$store.getters["uiShowLightbox"]},lightboxSources:function(){return this.$store.getters["uiLightboxSources"]},lightboxThumbs:function(){return this.$store.getters["uiLightboxThumbs"]},lightboxKey:function(){return this.$store.getters["uiLightboxKey"]},lightboxSlide:function(){return this.$store.getters["uiLightboxSlide"]},lightboxCaptions:function(){return this.$store.getters["uiLightboxCaptions"]},lightboxTypes:function(){return this.$store.getters["uiLightboxTypes"]}},mounted:function(){var e=this,t=document.onkeydown;document.onkeydown=function(n){var i=e.keyDownListener(n);if(t&&i)return t(n)}},methods:{keyDownListener:function(e){if(void 0===this.$refs.lightbox)return!0;var t=this.$refs.lightbox.fsLightboxStore.slice(-1)[0];switch(e.key){case" ":return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),Object(I["a"])(document.getElementsByClassName("fslightbox-absoluted")).forEach((function(e){if("translate(0px)"===e.style.transform||"translate(0px, 0px)"===e.style.transform){var t=e.getElementsByTagName("video")[0];t&&(t.paused?t.play():t.pause())}return!1})),!1;case"ArrowUp":case"k":return!t.data.isThumbing&&t.core.thumbsToggler&&t.core.thumbsToggler.toggleThumbs(),!1;case"ArrowDown":case"j":return t.data.isThumbing&&t.core.thumbsToggler&&t.core.thumbsToggler.toggleThumbs(),!1;case"h":return t.core.stageManager.getPreviousSlideIndex&&t.core.slideIndexChanger.jumpTo(t.core.stageManager.getPreviousSlideIndex()),!1;case"l":return t.core.stageManager.getNextSlideIndex&&t.core.slideIndexChanger.jumpTo(t.core.stageManager.getNextSlideIndex()),!1}return!0},onDownloadClick:function(){var e=this.lightboxSources[this.lightboxSlide],t=document.getElementById("lightbox-download");t.setAttribute("href",e),t.setAttribute("download",""),t.click()},onShow:function(){this.$store.commit("setUiLightboxIsOpen",!0)},onClose:function(){this.$store.commit("setUiLightboxIsOpen",!1)},onSlideChange:function(){document.getElementsByTagName("video").forEach((function(e){e.pause()}))}}},Ai=ji,Hi=(n("5ee9"),Object(m["a"])(Ai,Di,Pi,!1,null,null,null)),Bi=Hi.exports,Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lightbox-caption"},[n("p",[n("b",[e._v(e._s("["+e.$store.getters.indices.find((function(t){return t.id===e.hit._source.index})).name+"]"))]),e._v(e._s((""===e.hit._source.path?"":"/")+e.hit._source.path+"/"+e.hit._source.name+e.ext(e.hit))+" ")]),n("p",{staticStyle:{"margin-top":"-1em"}},[e.hit._source.width?n("span",[e._v(e._s(e.hit._source.width+"x"+e.hit._source.height))]):e._e(),e._v(" "+e._s(" ("+e.humanFileSize(e.hit._source.size)+")")+" ")])])},Ni=[],Fi={name:"LightboxCaption",props:["hit"],methods:{humanFileSize:B,ext:E}},Ri=Fi,Vi=Object(m["a"])(Ri,Ui,Ni,!1,null,null,null),Qi=Vi.exports,Gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mimeTree"}})},Wi=[],Ki=n("3835"),Yi=(n("4fad"),n("cea5")),Zi=n.n(Yi),Ji=n("52e7"),Xi=n.n(Ji),er=(n("aac9"),{name:"MimePicker",data:function(){return{mimeTree:null,stashedMimeTreeAttributes:null,updateBusy:!1}},mounted:function(){var e=this;this.$store.subscribe((function(t){"setUiMimeMap"===t.type&&null===e.mimeTree?e.initializeTree():"busSearch"===t.type&&e.updateTree()}))},methods:{handleTreeClick:function(e,t){"indeterminate"!==t&&"collapsed"!==t&&"rendered"!==t&&"focused"!==t&&(this.updateBusy||this.$store.commit("setSelectedMimeTypes",R(this.mimeTree)))},updateTree:function(){var e=this;if(!1!==this.$store.getters.optUpdateMimeMap&&!this.updateBusy){this.updateBusy=!0,null===this.stashedMimeTreeAttributes&&(this.stashedMimeTreeAttributes=V(this.mimeTree));var t=xn.searchQuery();ie.getMimeTypes(t).then((function(t){var n=t.buckets,i=t.mimeMap;e.$store.commit("setUiMimeMap",i),e.$store.commit("setUiDetailsMimeAgg",n),e.mimeTree.removeAll(),e.mimeTree.addNodes(i),null===e.stashedMimeTreeAttributes&&(e.stashedMimeTreeAttributes={},e.$store.state.selectedMimeTypes.forEach((function(t){e.stashedMimeTreeAttributes[t]={checked:!0}}))),Object.entries(e.stashedMimeTreeAttributes).forEach((function(t){var n=Object(Ki["a"])(t,2),i=n[0],r=n[1];e.mimeTree.node(i)&&(r.checked&&e.mimeTree.node(i).select(),!1===r.collapsed&&e.mimeTree.node(i).expand())})),e.stashedMimeTreeAttributes=null,e.updateBusy=!1}))}},initializeTree:function(){var e=this,t=this.$store.state.uiMimeMap;this.mimeTree=new Zi.a({selection:{mode:"checkbox"},data:t}),new Xi.a(this.mimeTree,{target:"#mimeTree"}),this.mimeTree.on("node.state.changed",this.handleTreeClick),this.mimeTree.deselect(),this.$store.state._onLoadSelectedMimeTypes.length>0&&this.$store.state._onLoadSelectedMimeTypes.forEach((function(t){e.mimeTree.node(t).select()}))}}}),tr=er,nr=(n("c0fb"),Object(m["a"])(tr,Gi,Wi,!1,null,"0d11f670",null)),ir=nr.exports,rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.lastResultsLoaded?n("b-card",{attrs:{id:"results"}},[n("span",[e._v(e._s(e.hitCount)+" "+e._s(1===e.hitCount?e.$t("hit"):e.$t("hits")))]),n("div",{staticStyle:{float:"right"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],staticClass:"not-mobile",attrs:{variant:"primary"},on:{click:function(t){return e.onToggle()}}},[e._v(e._s(e.$t("details"))+" ")]),0!==e.hitCount?[n("SortSelect",{staticClass:"ml-2"}),n("DisplayModeToggle",{staticClass:"ml-2"})]:e._e()],2),n("b-collapse",{staticClass:"pt-2",staticStyle:{clear:"both"},attrs:{id:"collapse-1"}},[n("b-card",[n("b-table",{staticClass:"mb-0",attrs:{items:e.tableItems,small:"",borderless:"",bordered:"","thead-class":"hidden"}}),n("br"),n("h4",[e._v(" "+e._s(e.$t("mimeTypes"))+" "),n("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"primary"},on:{click:e.onCopyClick}},[n("ClipboardIcon")],1)],1),null==e.$store.state.uiDetailsMimeAgg?n("Preloader"):n("b-table",{staticClass:"mb-0",attrs:{"sort-by":"doc_count","sort-desc":!0,"thead-class":"hidden",items:e.$store.state.uiDetailsMimeAgg,small:"",bordered:""}})],1)],1)],1):e._e()},ar=[],or=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button-group",[n("b-button",{attrs:{variant:"primary",title:e.$t("displayMode.list"),pressed:"list"===e.optDisplay},on:{click:function(t){return e.setOptDisplay("list")}}},[n("svg",{attrs:{width:"20px",height:"20px",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}})])]),n("b-button",{attrs:{variant:"primary",title:e.$t("displayMode.grid"),pressed:"grid"===e.optDisplay},on:{click:function(t){return e.setOptDisplay("grid")}}},[n("svg",{attrs:{width:"20px",height:"20px",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[n("path",{attrs:{fill:"currentColor",d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"}})])])],1)},sr=[],cr={name:"DisplayModeToggle",computed:Object(s["a"])({},Object(_["c"])(["optDisplay"])),methods:Object(s["a"])({},Object(_["d"])(["setOptDisplay"]))},ur=cr,lr=Object(m["a"])(ur,or,sr,!1,null,"747547a4",null),dr=lr.exports,hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-dropdown",{attrs:{variant:"primary"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("svg",{attrs:{"aria-hidden":"true",width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[n("path",{attrs:{fill:"currentColor",d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"}})])]},proxy:!0}])},[n("b-dropdown-item",{class:{"dropdown-active":"score"===e.sort},on:{click:function(t){return e.onSelect("score")}}},[e._v(e._s(e.$t("sort.relevance"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"dateAsc"===e.sort},on:{click:function(t){return e.onSelect("dateAsc")}}},[e._v(e._s(e.$t("sort.dateAsc"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"dateDesc"===e.sort},on:{click:function(t){return e.onSelect("dateDesc")}}},[e._v(" "+e._s(e.$t("sort.dateDesc"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"sizeAsc"===e.sort},on:{click:function(t){return e.onSelect("sizeAsc")}}},[e._v(e._s(e.$t("sort.sizeAsc"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"sizeDesc"===e.sort},on:{click:function(t){return e.onSelect("sizeDesc")}}},[e._v(" "+e._s(e.$t("sort.sizeDesc"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"nameDesc"===e.sort},on:{click:function(t){return e.onSelect("nameDesc")}}},[e._v(" "+e._s(e.$t("sort.nameDesc"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"nameAsc"===e.sort},on:{click:function(t){return e.onSelect("nameAsc")}}},[e._v(" "+e._s(e.$t("sort.nameAsc"))+" ")]),n("b-dropdown-item",{class:{"dropdown-active":"random"===e.sort},on:{click:function(t){return e.onSelect("random")}}},[e._v(" "+e._s(e.$t("sort.random"))+" ")])],1)},pr=[],mr={name:"SortSelect",computed:{sort:function(){return this.$store.state.sortMode}},methods:{onSelect:function(e){"random"===e&&this.$store.commit("setSeed",Math.round(1e5*Math.random())),this.$store.commit("setSortMode",e)}}},fr=mr,gr=(n("a8cc"),Object(m["a"])(fr,hr,pr,!1,null,null,null)),br=gr.exports,vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentColor",d:"M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"}})])},xr=[],yr={name:"ClipboardIcon"},_r=yr,Tr=(n("44a5"),Object(m["a"])(_r,vr,xr,!1,null,"16fbad22",null)),Sr=Tr.exports,wr=i["default"].extend({name:"ResultsCard",components:{ClipboardIcon:Sr,Preloader:Se,SortSelect:br,DisplayModeToggle:dr},created:function(){},computed:{lastResultsLoaded:function(){return null!=this.$store.state.lastQueryResults},hitCount:function(){return this.$store.state.lastQueryResults.aggregations.total_count.value},tableItems:function(){var e=[];return e.push({key:this.$t("queryTime"),value:this.took()}),e.push({key:this.$t("totalSize"),value:this.totalSize()}),e}},methods:{took:function(){return this.$store.state.lastQueryResults.took+"ms"},totalSize:function(){return B(this.$store.state.lastQueryResults.aggregations.total_size.value)},onToggle:function(){var e=!document.getElementById("collapse-1").classList.contains("show");this.$store.commit("setUiShowDetails",e),e&&null==this.$store.state.uiDetailsMimeAgg&&!this.$store.state.optUpdateMimeMap&&this.forceUpdateMimeAgg()},onCopyClick:function(){var e="";this.$store.state.uiDetailsMimeAgg.slice().sort((function(e,t){return t["doc_count"]-e["doc_count"]})).forEach((function(t){e+="".concat(t["key"],"\t").concat(t["doc_count"],"\n")})),navigator.clipboard.writeText(e),this.$bvToast.toast(this.$t("toast.copiedToClipboard"),{title:null,noAutoHide:!1,toaster:"b-toaster-bottom-right",headerClass:"hidden",bodyClass:"toast-body-info"})},forceUpdateMimeAgg:function(){var e=this,t=xn.searchQuery();ie.getMimeTypes(t).then((function(t){var n=t.buckets;e.$store.commit("setUiDetailsMimeAgg",n)}))}}}),$r=wr,kr=(n("a079"),Object(m["a"])($r,rr,ar,!1,null,null,null)),zr=kr.exports,Mr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"input-group",staticStyle:{"margin-bottom":"0.5em","margin-top":"1em"}},[n("div",{staticClass:"input-group-prepend"},[n("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return e.$refs["path-modal"].show()}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"20px"}},[n("path",{attrs:{fill:"currentColor",d:"M288 224h224a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32H400L368 0h-80a32 32 0 0 0-32 32v64H64V8a8 8 0 0 0-8-8H40a8 8 0 0 0-8 8v392a16 16 0 0 0 16 16h208v64a32 32 0 0 0 32 32h224a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32H400l-32-32h-80a32 32 0 0 0-32 32v64H64V128h192v64a32 32 0 0 0 32 32zm0 96h66.74l32 32H512v128H288zm0-288h66.74l32 32H512v128H288z"}})])])],1),n("VueSimpleSuggest",{staticClass:"form-control-fix-flex",attrs:{value:e.getPathText,list:e.suggestPath,"max-suggestions":0,placeholder:e.$t("pathBar.placeholder")},on:{input:e.setPathText},scopedSlots:e._u([{key:"suggestion-item",fn:function(t){var i=t.suggestion,r=t.query;return n("div",{},[n("div",{staticClass:"suggestion-line",attrs:{title:i}},[n("strong",[e._v(e._s(r))]),e._v(e._s(e.getSuggestionWithoutQueryPrefix(i,r))+" ")])])}}])})],1),n("b-modal",{ref:"path-modal",attrs:{title:e.$t("pathBar.modalTitle"),size:"lg","hide-footer":!0,static:""}},[n("div",{attrs:{id:"pathTree"}})])],1)},Cr=[],Or=(n("c4c9"),{name:"PathTree",components:{VueSimpleSuggest:Cn["a"]},data:function(){return{mimeTree:null,pathItems:[],tmpPath:""}},computed:Object(s["a"])({},Object(_["c"])(["getPathText"])),mounted:function(){var e=this;this.$store.subscribe((function(t){if("setIndices"===t.type){var n=new Zi.a({data:function(t,n,i){return e.getNextDepth(t)},sort:"text"});e.$store.state.indices.forEach((function(e){n.addNode({id:"/"+e.id,values:["/"+e.id],text:"/[".concat(e.name,"]"),index:e.id,depth:0,children:!0})})),new Xi.a(n,{target:"#pathTree"}),n.on("node.click",e.handleTreeClick),n.expand()}}))},methods:Object(s["a"])(Object(s["a"])({},Object(_["d"])(["setPathText"])),{},{getSuggestionWithoutQueryPrefix:function(e,t){return e.slice(t.length)},getPathChoices:function(){var e=this;return Object(Kt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n={suggest:{path:{prefix:e.getPathText,completion:{field:"suggest-path",skip_duplicates:!0,size:1e4}}}};ie.esQuery(n).then((function(e){return t(e["suggest"]["path"][0]["options"].map((function(e){return e["_source"]["path"]})))}))})));case 1:case"end":return t.stop()}}),t)})))()},suggestPath:function(e){var t=this;return Object(Kt["a"])(regeneratorRuntime.mark((function n(){var i,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.$store.state.optSuggestPath){n.next=2;break}return n.abrupt("return",[]);case 2:return e=e.toLowerCase(),n.next=5,t.getPathChoices();case 5:for(i=n.sent,r=[],a=0;a<i.length;a++)~i[a].toLowerCase().indexOf(e)&&r.push(i[a]);return n.abrupt("return",r.sort((function(e,t){return e.length-t.length})));case 9:case"end":return n.stop()}}),n)})))()},getNextDepth:function(e){var t={query:{bool:{filter:[{term:{index:e.index}},{range:{_depth:{gte:e.depth+1,lte:e.depth+3}}}]}},aggs:{paths:{terms:{field:"path",size:1e4}}},size:0};return e.depth>0&&(t.query.bool.must={prefix:{path:e.id}}),ie.esQuery(t).then((function(t){var n=t["aggregations"]["paths"]["buckets"];if(!n)return!1;var i=[];return n.filter((function(t){return t.key.length>e.id.length||e.id.startsWith("/")})).sort((function(e,t){return e.key>t.key})).map((function(t){if(i.some((function(e){return t.key.startsWith(e)})))return null;var n=e.id.startsWith("/")?t.key:t.key.slice(e.id.length+1);return i.push(t.key),{id:t.key,text:"".concat(n,"/ (").concat(t.doc_count,")"),depth:e.depth+1,index:e.index,values:[t.key],children:!0}})).filter((function(e){return null!==e}))}))},handleTreeClick:function(e,t,n){0!==t.depth&&(this.setPathText(t.id),this.$refs["path-modal"].hide(),this.$emit("search")),n()}})}),Ir=Or,Lr=(n("ddab"),n("c919"),Object(m["a"])(Ir,Mr,Cr,!1,null,"b24a99e6",null)),Dr=Lr.exports,Pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"sizeSlider"}})},Er=[],qr=n("f528"),jr=n.n(qr),Ar=(n("df2f"),{name:"SizeSlider",mounted:function(){var e=this,t=document.getElementById("sizeSlider"),n=jr.a.create(t,{start:[this.$store.state.sizeMin?this.$store.state.sizeMin:0,this.$store.state.sizeMax?this.$store.state.sizeMax:5e10],tooltips:[!0,!0],behaviour:"drag-tap",connect:!0,range:{min:0,"10%":1e6,"20%":1e7,"50%":5e9,max:5e10},format:{to:function(e){return e>=5e10?"50G+":B(Math.round(e))},from:function(e){return e}}});D(t,10," - "),t.querySelectorAll(".noUi-connect")[0].classList.add("slider-color0"),n.on("set",(function(t,n,i){0===n?e.$store.commit("setSizeMin",0===i[0]?void 0:Math.round(i[0])):e.$store.commit("setSizeMax",i[1]>=5e10?void 0:Math.round(i[1]))}))}}),Hr=Ar,Br=(n("95ee"),Object(m["a"])(Hr,Pr,Er,!1,null,null,null)),Ur=Br.exports,Nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.optUseDatePicker?n("div",[n("b-row",[n("b-col",{attrs:{sm:"6"}},[n("b-form-datepicker",{staticClass:"mb-2",attrs:{"value-as-date":"","date-format-options":{year:"numeric",month:"2-digit",day:"2-digit"},locale:e.$store.state.optLang,value:e.dateMin},on:{input:e.setDateMin}})],1),n("b-col",{attrs:{sm:"6"}},[n("b-form-datepicker",{staticClass:"mb-2",attrs:{"value-as-date":"","date-format-options":{year:"numeric",month:"2-digit",day:"2-digit"},locale:e.$store.state.optLang,value:e.dateMax},on:{input:e.setDateMax}})],1)],1)],1):n("div",[n("b-row",[n("b-col",{staticStyle:{height:"70px"}},[n("div",{attrs:{id:"dateSlider"}})])],1)],1)},Fr=[],Rr={name:"DateSlider",methods:{setDateMin:function(e){var t=Math.ceil(+e/1e3);this.$store.commit("setDateMin",t)},setDateMax:function(e){var t=Math.ceil(+e/1e3);this.$store.commit("setDateMax",t)}},computed:{dateMin:function(){var e=this.$store.state.dateMin?this.$store.state.dateMin:this.$store.state.dateBoundsMin;return new Date(1e3*e)},dateMax:function(){var e=this.$store.state.dateMax?this.$store.state.dateMax:this.$store.state.dateBoundsMax;return new Date(1e3*e)}},mounted:function(){var e=this;this.$store.subscribe((function(t){if("setDateBoundsMax"===t.type){var n=document.getElementById("dateSlider");if(null===n)return;if(n.children.length>0)return;var i=e.$store.state.dateBoundsMax,r=e.$store.state.dateBoundsMin,a=jr.a.create(n,{start:[e.$store.state.dateMin?e.$store.state.dateMin:r,e.$store.state.dateMax?e.$store.state.dateMax:i],tooltips:[!0,!0],behaviour:"drag-tap",connect:!0,range:{min:r,max:i},format:{to:function(e){return N(e)},from:function(e){return e}}});D(n,10," - ",!0),n.querySelectorAll(".noUi-connect")[0].classList.add("slider-color0"),a.on("set",(function(t,n,a){0===n?e.$store.commit("setDateMin",a[0]===r?void 0:Math.round(a[0])):e.$store.commit("setDateMax",a[1]>=i?void 0:Math.round(a[1]))}))}}))}},Vr=Rr,Qr=(n("5a9f"),Object(m["a"])(Vr,Nr,Fr,!1,null,null,null)),Gr=Qr.exports,Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tagTree"}})},Kr=[];function Yr(e){return e._tree.defaultState.forEach((function(t,n){e.state(n,t)})),e}function Zr(e,t,n,i,r){return i.state(e)!==t&&(i._tree.batch(),i._tree.config.nodes.resetStateOnRestore&&"restored"===n&&Yr(i),i.state(e,t),i._tree.emit("node."+n,i,!1),r&&i.hasChildren()&&i.children.recurseDown((function(i){Zr(e,t,n,i)})),i.markDirty(),i._tree.end()),i}function Jr(e,t,n,i){var r=t.split("."),a={id:n,count:i,text:1!==r.length?r[0]:"".concat(r[0]," (").concat(i,")"),name:r[0],children:[],blur:function(){},select:function(){return this.state("selected",!0),this.check()},deselect:function(){return this.state("selected",!1),this.uncheck()},uncheck:function(){return Zr("checked",!1,"unchecked",this,!1),this.state("indeterminate",!1),this.hasParent()&&this.getParent().refreshIndeterminateState(),this._tree.end(),this},check:function(){return Zr("checked",!0,"checked",this,!1),this.hasParent()&&this.getParent().refreshIndeterminateState(),this._tree.end(),this}},o=!1;e.forEach((function(e){e.name===a.name&&(o=!0,1!==r.length?Jr(e.children,r.slice(1).join("."),n,i):(console.error("FIXME: Duplicate tag?"),console.trace(e)))})),o||(1!==r.length?(Jr(a.children,r.slice(1).join("."),n,i),e.push(a)):e.push(a))}var Xr={name:"TagPicker",data:function(){return{tagTree:null,loadedFromArgs:!1}},mounted:function(){var e=this;this.$store.subscribe((function(t){"setUiMimeMap"===t.type&&null===e.tagTree?(e.initializeTree(),e.updateTree()):"busUpdateTags"===t.type&&window.setTimeout(e.updateTree,2e3)}))},methods:{initializeTree:function(){var e=[];this.tagTree=new Zi.a({selection:{mode:"checkbox",autoDeselect:!1},checkbox:{autoCheckChildren:!1},data:e}),new Xi.a(this.tagTree,{target:"#tagTree"}),this.tagTree.on("node.state.changed",this.handleTreeClick)},updateTree:function(){var e=this,t=[];ie.getTags().then((function(n){n.forEach((function(e){return Jr(t,e.id,e.id,e.count)})),e.tagTree.removeAll(),e.tagTree.addNodes(t),e.$store.state._onLoadSelectedTags.length>0&&!e.loadedFromArgs&&e.$store.state._onLoadSelectedTags.forEach((function(t){e.tagTree.node(t).select(),e.loadedFromArgs=!0}))}))},handleTreeClick:function(e,t){"indeterminate"!==t&&"collapsed"!==t&&"rendered"!==t&&"focused"!==t&&this.$store.commit("setSelectedTags",R(this.tagTree))}}},ea=Xr,ta=(n("293e"),n("e478"),Object(m["a"])(ea,Wr,Kr,!1,null,"eb8c1522",null)),na=ta.exports,ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-list-group",{staticClass:"mt-3"},e._l(e.docs,(function(e){return n("DocListItem",{key:e._id,attrs:{doc:e}})})),1)},ra=[],aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-list-group-item",{staticClass:"flex-column align-items-start mb-2",class:{"sub-document":e.doc._props.isSubDocument},on:{mouseenter:function(t){return e.onTnEnter()},mouseleave:function(t){return e.onTnLeave()}}},[n("DocInfoModal",{attrs:{show:e.showInfo,doc:e.doc},on:{close:function(t){e.showInfo=!1}}}),n("div",{staticClass:"media ml-2"},[e.doc._props.hasThumbnail?n("div",{staticClass:"align-self-start mr-2 wrapper-sm"},[n("div",{staticClass:"img-wrapper"},[e.doc._props.isPlayableVideo?n("div",{staticClass:"play"},[n("svg",{attrs:{viewBox:"0 0 494.942 494.942",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"m35.353 0 424.236 247.471-424.236 247.471z"}})])]):e._e(),e.doc._props.isPlayableImage||e.doc._props.isPlayableVideo?n("img",{staticClass:"pointer fit-sm",attrs:{src:e.doc._props.isGif&&e.hover?"f/"+e.doc._id:"t/"+e.doc._source.index+"/"+e.doc._id,alt:""},on:{click:function(t){return e.onThumbnailClick()}}}):n("img",{staticClass:"fit-sm",attrs:{src:"t/"+e.doc._source.index+"/"+e.doc._id,alt:""}})])]):n("div",{staticClass:"file-icon-wrapper"},[n("FileIcon")],1),n("div",{staticClass:"doc-line ml-3"},[n("div",{staticStyle:{display:"flex"}},[n("span",{staticClass:"info-icon",on:{click:function(t){e.showInfo=!0}}}),n("DocFileTitle",{attrs:{doc:e.doc}})],1),n("ContentDiv",{attrs:{doc:e.doc}}),n("div",{staticClass:"path-row"},[n("div",{staticClass:"path-line",domProps:{innerHTML:e._s(e.path())}}),n("TagContainer",{attrs:{hit:e.doc}})],1),e.doc._source.pages||e.doc._source.author?n("div",{staticClass:"path-row text-muted"},[e.doc._source.pages?n("span",[e._v(e._s(e.doc._source.pages)+" "+e._s(e.doc._source.pages>1?e.$t("pages"):e.$t("page")))]):e._e(),e.doc._source.author&&e.doc._source.pages?n("span",{staticClass:"mx-1"},[e._v("-")]):e._e(),e.doc._source.author?n("span",[e._v(e._s(e.doc._source.author))]):e._e()]):e._e()],1)])],1)},oa=[],sa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{staticClass:"file-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}},[n("path",{attrs:{fill:"currentColor",d:"M 7 2 L 7 48 L 43 48 L 43 14.59375 L 42.71875 14.28125 L 30.71875 2.28125 L 30.40625 2 Z M 9 4 L 29 4 L 29 16 L 41 16 L 41 46 L 9 46 Z M 31 5.4375 L 39.5625 14 L 31 14 Z"}})])},ca=[],ua={name:"FileIcon"},la=ua,da=(n("18d5"),Object(m["a"])(la,sa,ca,!1,null,"0cea94dd",null)),ha=da.exports,pa={name:"DocListItem",components:{FileIcon:ha,ContentDiv:di,DocInfoModal:ai,DocFileTitle:Hn,TagContainer:Dn},props:["doc"],data:function(){return{hover:!1,showInfo:!1}},methods:{onThumbnailClick:function(){var e=this;return Object(Kt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setUiLightboxSlide",e.doc._seq),t.next=3,e.$store.dispatch("showLightbox");case 3:case"end":return t.stop()}}),t)})))()},path:function(){return this.doc.highlight?this.doc.highlight["path.text"]?this.doc.highlight["path.text"]+"/":this.doc.highlight["path.nGram"]?this.doc.highlight["path.nGram"]+"/":this.doc._source.path+"/":this.doc._source.path+"/"},onTnEnter:function(){this.hover=!0},onTnLeave:function(){this.hover=!1}}},ma=pa,fa=(n("1c25"),Object(m["a"])(ma,aa,oa,!1,null,"57715a3b",null)),ga=fa.exports,ba=i["default"].extend({name:"DocList",components:{DocListItem:ga},props:["docs","append"],mounted:function(){var e=this;window.addEventListener("scroll",(function(){var t=400,n=document.getElementById("app");window.innerHeight+window.scrollY>=n.offsetHeight-t&&e.append()}))}}),va=ba,xa=(n("7191"),Object(m["a"])(va,ia,ra,!1,null,null,null)),ya=xa.exports,_a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{visible:e.show,size:"lg","hide-footer":!0,static:"",title:e.$t("help.help")},on:{close:function(t){return e.$emit("close")},hide:function(t){return e.$emit("close")}}},[n("h2",[e._v(e._s(e.$t("help.simpleSearch")))]),n("table",{staticClass:"table"},[n("tbody",[n("tr",[n("td",[n("code",[e._v("+")])]),n("td",[e._v(e._s(e.$t("help.and")))])]),n("tr",[n("td",[n("code",[e._v("|")])]),n("td",[e._v(e._s(e.$t("help.or")))])]),n("tr",[n("td",[n("code",[e._v("-")])]),n("td",[e._v(e._s(e.$t("help.not")))])]),n("tr",[n("td",[n("code",[e._v('""')])]),n("td",[e._v(e._s(e.$t("help.quotes")))])]),n("tr",[n("td",[n("code",[e._v(e._s(e.$t("help.term"))+"*")])]),n("td",[e._v(e._s(e.$t("help.prefix")))])]),n("tr",[n("td",[n("code",[e._v("(")]),e._v(" "+e._s(e.$t("and"))+" "),n("code",[e._v(")")])]),n("td",[e._v(e._s(e.$t("help.parens")))])]),n("tr",[n("td",[n("code",[e._v(e._s(e.$t("help.term"))+"~N")])]),n("td",[e._v(e._s(e.$t("help.tildeTerm")))])]),n("tr",[n("td",[n("code",[e._v('"..."~N')])]),n("td",[e._v(e._s(e.$t("help.tildePhrase")))])])])]),n("p",{domProps:{innerHTML:e._s(e.$t("help.example1"))}}),n("p",{domProps:{innerHTML:e._s(e.$t("help.defaultOperator"))}}),n("p",{domProps:{innerHTML:e._s(e.$t("help.fuzzy"))}}),n("br"),n("p",{domProps:{innerHTML:e._s(e.$t("help.moreInfoSimple"))}}),n("p"),n("h2",[e._v(e._s(e.$t("help.advancedSearch")))]),n("p",{domProps:{innerHTML:e._s(e.$t("help.moreInfoAdvanced"))}})])},Ta=[],Sa={name:"HelpDialog",props:["show"]},wa=Sa,$a=Object(m["a"])(wa,_a,Ta,!1,null,"0872e493",null),ka=$a.exports,za=i["default"].extend({components:{HelpDialog:ka,DocList:ya,TagPicker:na,DateSlider:Gr,SizeSlider:Ur,PathTree:Dr,ResultsCard:zr,MimePicker:ir,Lightbox:Bi,DocCardWall:Li,IndexPicker:fn,SearchBar:tn,Preloader:Se},data:function(){return{loading:!1,uiLoading:!0,search:void 0,docs:[],docIds:new Set,docChecksums:new Set,searchBusy:!1,Sist2Query:xn,showHelp:!1}},computed:Object(s["a"])({},Object(_["c"])(["indices","optDisplay"])),mounted:function(){var e=this;window.ontouchend=function(){return e.$store.commit("busTouchEnd")},window.ontouchcancel=this.$store.commit("busTouchEnd"),this.search=_n()(function(){var t=Object(Kt["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,e.clearResults();case 3:return t.next=5,e.searchNow(xn.searchQuery());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),350,{leading:!1}),this.$store.dispatch("loadFromArgs",this.$route).then((function(){e.$store.subscribe((function(){return e.$store.dispatch("updateArgs",e.$router)})),e.$store.subscribe((function(t){if(["setSizeMin","setSizeMax","setDateMin","setDateMax","setSearchText","setPathText","setSortMode","setOptHighlight","setOptFragmentSize","setFuzzy","setSize","setSelectedIndices","setSelectedMimeTypes","setSelectedTags","setOptQueryMode","setOptSearchInPath"].includes(t.type)){if(e.searchBusy)return;e.search(!0)}}))})),this.getDateRange().then((function(t){e.setDateBoundsMin(t.min),e.setDateBoundsMax(t.max),ie.getSist2Info().then((function(t){e.setSist2Info(t),e.setIndices(t.indices),ie.getMimeTypes(xn.searchQuery()).then((function(t){var n=t.mimeMap;e.$store.commit("setUiMimeMap",n),e.uiLoading=!1,e.search(!0)}))})).catch((function(){e.showErrorToast()}))}))},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(_["b"])({setSist2Info:"setSist2Info"})),Object(_["d"])({setIndices:"setIndices",setDateBoundsMin:"setDateBoundsMin",setDateBoundsMax:"setDateBoundsMax",setTags:"setTags"})),{},{showErrorToast:function(){this.$bvToast.toast(this.$t("toast.esConnErr"),{title:this.$t("toast.esConnErrTitle"),noAutoHide:!0,toaster:"b-toaster-bottom-right",headerClass:"toast-header-error",bodyClass:"toast-body-error"})},showSyntaxErrorToast:function(){this.$bvToast.toast(this.$t("toast.esQueryErr"),{title:this.$t("toast.esQueryErrTitle"),noAutoHide:!0,toaster:"b-toaster-bottom-right",headerClass:"toast-header-warning",bodyClass:"toast-body-warning"})},searchNow:function(e){var t=this;return Object(Kt["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.searchBusy=!0,n.next=3,t.$store.dispatch("incrementQuerySequence");case 3:t.$store.commit("busSearch"),ie.esQuery(e).then(function(){var e=Object(Kt["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.handleSearch(n);case 2:t.searchBusy=!1;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){500===e.response.status&&"advanced"===t.$store.state.optQueryMode?t.showSyntaxErrorToast():t.showErrorToast()}));case 5:case"end":return n.stop()}}),n)})))()},clearResults:function(){var e=this;return Object(Kt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.docs=[],e.docIds.clear(),e.docChecksums.clear(),t.next=5,e.$store.dispatch("clearResults");case 5:e.$store.commit("setUiReachedScrollEnd",!1);case 6:case"end":return t.stop()}}),t)})))()},handleSearch:function(e){var t=this;return Object(Kt["a"])(regeneratorRuntime.mark((function n(){var i,r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:0==e.hits.hits.length&&t.$store.commit("setUiReachedScrollEnd",!0),e.hits.hits=e.hits.hits.filter((function(e){return!t.docIds.has(e._id)})),t.$store.state.optHideDuplicates&&(e.hits.hits=e.hits.hits.filter((function(e){if(!("checksum"in e._source))return!0;var n=!t.docChecksums.has(e._source.checksum);return t.docChecksums.add(e._source.checksum),n}))),r=Object(Wt["a"])(e.hits.hits),n.prev=4,r.s();case 6:if((a=r.n()).done){n.next=15;break}if(o=a.value,!o._props.isPlayableImage&&!o._props.isPlayableVideo){n.next=13;break}return n.next=11,t.$store.dispatch("getKeySequence");case 11:o._seq=n.sent,t.$store.commit("addLightboxSource",{source:"f/".concat(o._id),thumbnail:o._props.hasThumbnail?"t/".concat(o._source.index,"/").concat(o._id):null,caption:{component:Qi,props:{hit:o}},type:o._props.isVideo?"video":"image"});case 13:n.next=6;break;case 15:n.next=20;break;case 17:n.prev=17,n.t0=n["catch"](4),r.e(n.t0);case 20:return n.prev=20,r.f(),n.finish(20);case 23:return n.next=25,t.$store.dispatch("remountLightbox");case 25:t.$store.commit("setLastQueryResult",e),(i=t.docs).push.apply(i,Object(I["a"])(e.hits.hits));case 27:case"end":return n.stop()}}),n,null,[[4,17,20,23]])})))()},getDateRange:function(){return ie.esQuery({aggs:{dateMin:{min:{field:"mtime"}},dateMax:{max:{field:"mtime"}}},size:0}).then((function(e){return{min:e.aggregations.dateMin.value,max:e.aggregations.dateMax.value}}))},appendFunc:function(){this.$store.state.uiReachedScrollEnd||!this.search||this.searchBusy||this.searchNow(xn.searchQuery())}}),beforeRouteUpdate:function(e,t,n){this.$store.state.uiLightboxIsOpen?(this.$store.commit("_setUiShowLightbox",!1),n(!1)):n()}}),Ma=za,Ca=(n("c2e3"),Object(m["a"])(Ma,Qt,Gt,!1,null,null,null)),Oa=Ca.exports,Ia=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",staticStyle:{"margin-left":"auto","margin-right":"auto"}},[e.loading?n("Preloader"):!e.loading&&e.found?n("b-card",[n("b-card-title",{attrs:{title:e.doc._source.name+e.ext(e.doc)}},[e._v(" "+e._s(e.doc._source.name+e.ext(e.doc))+" ")]),n("div",{staticStyle:{position:"relative","margin-left":"auto","margin-right":"auto","text-align":"center"}},[n("FullThumbnail",{attrs:{doc:e.doc,"small-badge":!1},on:{onThumbnailClick:function(t){return e.onThumbnailClick()}}})],1),e.doc._props.isAudio?n("audio",{ref:"audio",staticClass:"audio-fit fit",attrs:{preload:"none",controls:"",type:e.doc._source.mime,src:"f/"+e.doc._id}}):e._e(),e.doc?n("InfoTable",{attrs:{doc:e.doc}}):e._e(),e.doc._source.content?n("div",{staticClass:"content-div"},[e._v(e._s(e.doc._source.content))]):e._e()],1):n("div",[n("b-card",[n("b-card-title",[e._v(e._s(e.$t("filePage.notFound")))])],1)],1)],1)},La=[],Da=n("ade3"),Pa=i["default"].extend({name:"FilePage",components:{FullThumbnail:Si,Preloader:Se,InfoTable:Kn},data:function(){return{loading:!0,found:!1,doc:null}},methods:{ext:E,onThumbnailClick:function(){window.open("/f/".concat(this.doc._id),"_blank")},findByCustomField:function(e,t){return{query:{bool:{must:[{match:Object(Da["a"])({},e,t)}]}},size:1}},findById:function(e){return{query:{bool:{must:[{match:{_id:e}}]}},size:1}},findByName:function(e){return{query:{bool:{must:[{match:{name:e}}]}},size:1}}},mounted:function(){var e=this;null===this.$store.state.sist2Info&&ie.getSist2Info().then((function(t){e.$store.dispatch("setSist2Info",t),e.$store.commit("setIndices",t.indices)}));var t=null;this.$route.query.byId?t=this.findById(this.$route.query.byId):this.$route.query.byName?t=this.findByName(this.$route.query.byName):this.$route.query.by&&this.$route.query.q&&(t=this.findByCustomField(this.$route.query.by,this.$route.query.q)),t?ie.esQuery(t).then((function(t){0===t.hits.hits.length?e.found=!1:(e.doc=t.hits.hits[0],e.found=!0),e.loading=!1})):(this.loading=!1,this.found=!1)}}),Ea=Pa,qa=(n("08b1"),Object(m["a"])(Ea,Ia,La,!1,null,"ae81d7a4",null)),ja=qa.exports;i["default"].use(k["a"]);var Aa=[{path:"/",name:"SearchPage",component:Oa},{path:"/stats",name:"Stats",component:ut},{path:"/config",name:"Configuration",component:Vt},{path:"/file",name:"File",component:ja}],Ha=new k["a"]({mode:"hash",base:"",routes:Aa,scrollBehavior:function(e,t,n){}}),Ba=Ha,Ua=n("a925"),Na={en:{filePage:{notFound:"Not found"},searchBar:{simple:"Search",advanced:"Advanced search",fuzzy:"Fuzzy"},addTag:"Add",deleteTag:"Delete",download:"Download",and:"and",page:"page",pages:"pages",mimeTypes:"Media types",tags:"Tags",help:{simpleSearch:"Simple search",advancedSearch:"Advanced search",help:"Help",term:"<TERM>",and:"AND operator",or:"OR operator",not:"negates a single term",quotes:"will match the enclosed sequence of terms in that specific order",prefix:"will match any term with a given prefix when used at the end of a word",parens:"used to group expressions",tildeTerm:"match a term with a given edit distance",tildePhrase:"match a phrase with a given number of allowed intervening unmatched words",example1:'For example: <code>"fried eggs" +(eggplant | potato) -frittata</code> will match the phrase <i>fried eggs</i> and either <i>eggplant</i> or <i>potato</i>, but will ignore results containing <i>frittata</i>.',defaultOperator:"When neither <code>+</code> or <code>|</code> is specified, the default operator is <code>+</code> (and).",fuzzy:"When the <b>Fuzzy</b> option is checked, partial matches based on 3-grams are also returned.",moreInfoSimple:'For more information, see <a target="_blank" rel="noreferrer" href="//www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html">Elasticsearch documentation</a>',moreInfoAdvanced:'For documentation about the advanced search mode, see <a target="_blank" rel="noreferrer" href="//www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax">Elasticsearch documentation</a>'},config:"Configuration",configDescription:"Configuration is saved in real time for this browser.",configReset:"Reset configuration",searchOptions:"Search options",treemapOptions:"Treemap options",displayOptions:"Display options",opt:{lang:"Language",highlight:"Enable highlighting",fuzzy:"Set fuzzy search by default",searchInPath:"Enable matching query against document path",suggestPath:"Enable auto-complete in path filter bar",fragmentSize:"Highlight context size in characters",queryMode:"Search mode",displayMode:"Display",columns:"Column count",treemapType:"Treemap type",treemapTiling:"Treemap tiling",treemapColorGroupingDepth:"Treemap color grouping depth (flat)",treemapColor:"Treemap color (cascaded)",treemapSize:"Treemap size",theme:"Theme",lightboxLoadOnlyCurrent:"Do not preload full-size images for adjacent slides in image viewer.",slideDuration:"Slide duration",resultSize:"Number of results per page",tagOrOperator:"Use OR operator when specifying multiple tags.",hideDuplicates:"Hide duplicate results based on checksum",hideLegacy:"Hide the 'legacyES' Elasticsearch notice",updateMimeMap:"Update the Media Types tree in real time",useDatePicker:"Use a Date Picker component rather than a slider",vidPreviewInterval:"Video preview frame duration in ms",simpleLightbox:"Disable animations in image viewer"},queryMode:{simple:"Simple",advanced:"Advanced"},lang:{en:"English",fr:"Français","zh-CN":"简体中文"},displayMode:{grid:"Grid",list:"List"},columns:{auto:"Auto"},treemapType:{cascaded:"Cascaded",flat:"Flat (compact)"},treemapSize:{small:"Small",medium:"Medium",large:"Large",xLarge:"xLarge",xxLarge:"xxLarge",custom:"Custom"},treemapTiling:{binary:"Binary",squarify:"Squarify",slice:"Slice",dice:"Dice",sliceDice:"Slice & Dice"},theme:{light:"Light",black:"Black"},hit:"hit",hits:"hits",details:"Details",stats:"Stats",queryTime:"Query time",totalSize:"Total size",pathBar:{placeholder:"Filter path",modalTitle:"Select path"},debug:"Debug information",debugDescription:"Information useful for debugging. If you encounter bugs or have suggestions for new features, please submit a new issue <a href='https://github.com/simon987/sist2/issues/new/choose'>here</a>.",tagline:"Tagline",toast:{esConnErrTitle:"Elasticsearch connection error",esConnErr:"sist2 web module encountered an error while connecting to Elasticsearch. See server logs for more information.",esQueryErrTitle:"Query error",esQueryErr:"Could not parse or execute query, please check the Advanced search documentation. See server logs for more information.",dupeTagTitle:"Duplicate tag",dupeTag:"This tag already exists for this document.",copiedToClipboard:"Copied to clipboard"},saveTagModalTitle:"Add tag",saveTagPlaceholder:"Tag name",confirm:"Confirm",indexPickerPlaceholder:"Select an index",sort:{relevance:"Relevance",dateAsc:"Date (Older first)",dateDesc:"Date (Newer first)",sizeAsc:"Size (Smaller first)",sizeDesc:"Size (Larger first)",nameAsc:"Name (A-z)",nameDesc:"Name (Z-a)",random:"Random"},d3:{mimeCount:"File count distribution by media type",mimeSize:"Size distribution by media type",dateHistogram:"File modification time distribution",sizeHistogram:"File size distribution"},indexPicker:{selectNone:"Select None",selectAll:"Select All",selectedIndex:"selected index",selectedIndices:"selected indices"}},fr:{filePage:{notFound:"Ficher introuvable"},searchBar:{simple:"Recherche",advanced:"Recherche avancée",fuzzy:"Approximatif"},addTag:"Ajouter",deleteTag:"Supprimer",download:"Télécharger",and:"et",page:"page",pages:"pages",mimeTypes:"Types de médias",tags:"Tags",help:{simpleSearch:"Recherche simple",advancedSearch:"Recherche avancée",help:"Aide",term:"<TERME>",and:"opérator ET",or:"opérator OU",not:"exclut un terme",quotes:"recherche la séquence de termes dans cet ordre spécifique.",prefix:"lorsqu'utilisé à la fin d'un mot, recherche tous les termes avec le préfixe donné.",parens:"utilisé pour regrouper des expressions",tildeTerm:"recherche un terme avec une distance d'édition donnée",tildePhrase:"recherche une phrase avec un nombre donné de mots intermédiaires tolérés",example1:'Par exemple: <code>"fried eggs" +(eggplant | potato) -frittata</code> va rechercher la phrase <i>fried eggs</i> et soit <i>eggplant</i> ou <i>potato</i>, mais vas exlure les résultats qui contiennent <i>frittata</i>.',defaultOperator:"Lorsqu'aucun des opérateurs <code>+</code> ou <code>|</code> sont spécifiés, l'opérateur par défaut est <code>+</code> (ET).",fuzzy:"Lorsque l'option <b>Approximatif</b> est activée, les résultats partiels basés sur les trigrammes sont également inclus.",moreInfoSimple:'Pour plus d\'information, voir <a target="_blank" rel="noreferrer" href="//www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html">documentation Elasticsearch</a>',moreInfoAdvanced:'Pour plus d\'information sur la recherche avancée, voir <a target="_blank" rel="noreferrer" href="//www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax">documentation Elasticsearch</a>'},config:"Configuration",configDescription:"La configuration est enregistrée en temps réel pour ce navigateur.",configReset:"Réinitialiser la configuration",searchOptions:"Options de recherche",treemapOptions:"Options du Treemap",displayOptions:"Options d'affichage",opt:{lang:"Langue",highlight:"Activer le surlignage",fuzzy:"Activer la recherche approximative par défaut",searchInPath:"Activer la recherche dans le chemin des documents",suggestPath:"Activer l'autocomplétion dans la barre de filtre de chemin",fragmentSize:"Longueur du contexte de surlignage, en nombre de caractères",queryMode:"Mode de recherche",displayMode:"Affichage",columns:"Nombre de colonnes",treemapType:"Type de Treemap",treemapTiling:"Treemap tiling",treemapColorGroupingDepth:"Groupage de couleur du Treemap (plat)",treemapColor:"Couleur du Treemap (en cascade)",treemapSize:"Taille du Treemap",theme:"Thème",lightboxLoadOnlyCurrent:"Désactiver le chargement des diapositives adjacentes pour le visualiseur d'images",slideDuration:"Durée des diapositives",resultSize:"Nombre de résultats par page",tagOrOperator:"Utiliser l'opérateur OU lors de la spécification de plusieurs tags",hideDuplicates:"Masquer les résultats en double",hideLegacy:"Masquer la notice 'legacyES' Elasticsearch",updateMimeMap:"Mettre à jour l'arbre de Types de médias en temps réel",useDatePicker:"Afficher un composant « Date Picker » plutôt qu'un slider",vidPreviewInterval:"Durée des images d'aperçu video en millisecondes",simpleLightbox:"Désactiver les animations du visualiseur d'images"},queryMode:{simple:"Simple",advanced:"Avancé"},lang:{en:"English",fr:"Français","zh-CN":"简体中文"},displayMode:{grid:"Grille",list:"Liste"},columns:{auto:"Auto"},treemapType:{cascaded:"En cascade",flat:"Plat (compact)"},treemapSize:{small:"Petit",medium:"Moyen",large:"Grand",xLarge:"xGrand",xxLarge:"xxGrand",custom:"Personnalisé"},treemapTiling:{binary:"Binary",squarify:"Squarify",slice:"Slice",dice:"Dice",sliceDice:"Slice & Dice"},theme:{light:"Clair",black:"Noir"},hit:"résultat",hits:"résultats",details:"Détails",stats:"Stats",queryTime:"Durée de la requête",totalSize:"Taille totale",pathBar:{placeholder:"Filtrer le chemin",modalTitle:"Sélectionner le chemin"},debug:"Information de débogage",debugDescription:"Informations utiles pour le débogage\nSi vous rencontrez des bogues ou si vous avez des suggestions pour de nouvelles fonctionnalités, veuillez soumettre un nouvel Issue <a href='https://github.com/simon987/sist2/issues/new/choose'>ici</a>.",tagline:"Tagline",toast:{esConnErrTitle:"Erreur de connexion Elasticsearch",esConnErr:"Le module web a rencontré une erreur lors de la connexion à Elasticsearch. Consultez les journaux du serveur pour plus d'informations..",esQueryErrTitle:"Erreur de requête",esQueryErr:"Impossible d'analyser ou d'exécuter la requête, veuillez consulter la documentation sur la recherche avancée. Voir les journaux du serveur pour plus d'informations.",dupeTagTitle:"Tag en double",dupeTag:"Ce tag existe déjà pour ce document.",copiedToClipboard:"Copié dans le presse-papier"},saveTagModalTitle:"Ajouter un tag",saveTagPlaceholder:"Nom du tag",confirm:"Confirmer",indexPickerPlaceholder:"Sélectionner un index",sort:{relevance:"Pertinence",dateAsc:"Date (Plus ancient)",dateDesc:"Date (Plus récent)",sizeAsc:"Taille (Plus petit)",sizeDesc:"Taille (Plus grand)",nameAsc:"Nom (A-z)",nameDesc:"Nom (Z-a)",random:"Aléatoire"},d3:{mimeCount:"Distribution du nombre de fichiers par type de média",mimeSize:"Distribution des tailles de fichiers par type de média",dateHistogram:"Distribution des dates de modification",sizeHistogram:"Distribution des tailles de fichier"},indexPicker:{selectNone:"Sélectionner aucun",selectAll:"Sélectionner tout",selectedIndex:"indice sélectionné",selectedIndices:"indices sélectionnés"}},"zh-CN":{filePage:{notFound:"未找到"},searchBar:{simple:"搜索",advanced:"高级搜索",fuzzy:"模糊搜索"},addTag:"添加",deleteTag:"删除",download:"下载",and:"与",page:"页",pages:"页",mimeTypes:"文件类型",tags:"标签",help:{simpleSearch:"简易搜索",advancedSearch:"高级搜索",help:"帮助",term:"<关键词>",and:"与操作",or:"或操作",not:"反选单个关键词",quotes:"括起来的部分视为一个关键词，保序",prefix:"在词尾使用时，匹配前缀",parens:"表达式编组",tildeTerm:"匹配编辑距离以内的关键词",tildePhrase:"匹配短语，容忍一些非匹配词",example1:'例如: <code>"番茄" +(炒蛋 | 牛腩) -饭</code> 将匹配短语 <i>番茄炒蛋</i>、<i>炒蛋</i> 或者 <i>牛腩</i>，而忽略任何带有<i>饭</i>的关键词.',defaultOperator:"表达式中无<code>+</code>或者<code>|</code>时，默认使用<code>+</code>（与操作）。",fuzzy:"选中<b>模糊搜索</b>选项时，返回部分匹配的结果（3-grams)。",moreInfoSimple:'详细信息：<a target="_blank" rel="noreferrer" href="//www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html">Elasticsearch文档</a>',moreInfoAdvanced:'高级搜索模式文档：<a target="_blank" rel="noreferrer" href="//www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax">Elasticsearch文档</a>'},config:"配置",configDescription:"配置在此浏览器中实时保存。",configReset:"重置所有设置",searchOptions:"搜索选项",treemapOptions:"树状图选项",displayOptions:"显示选项",opt:{lang:"语言",highlight:"启用高亮",fuzzy:"默认使用模糊搜索",searchInPath:"匹配文档路径",suggestPath:"搜索框启用自动补全",fragmentSize:"高亮上下文大小",queryMode:"搜索模式",displayMode:"显示",columns:"列数",treemapType:"树状图类属性",treemapTiling:"树状图平铺",treemapColorGroupingDepth:"树状图颜色编组深度（展开）",treemapColor:"树状图颜色（折叠）",treemapSize:"树状图大小",theme:"主题",lightboxLoadOnlyCurrent:"在图片查看器中，不要预读相邻的全图",slideDuration:"幻灯片时长",resultSize:"每页结果数",tagOrOperator:"使用或操作（OR）匹配多个标签。",hideDuplicates:"使用校验码隐藏重复结果",hideLegacy:"隐藏'legacyES' Elasticsearch 通知",updateMimeMap:"媒体类型树的实时更新",useDatePicker:"使用日期选择器组件而不是滑块",vidPreviewInterval:"视频预览帧的持续时间，以毫秒为单位",simpleLightbox:"在图片查看器中，禁用动画"},queryMode:{simple:"简单",advanced:"高级"},lang:{en:"English",fr:"Français","zh-CN":"简体中文"},displayMode:{grid:"网格",list:"列表"},columns:{auto:"自动"},treemapType:{cascaded:"折叠",flat:"平铺（紧凑）"},treemapSize:{small:"小",medium:"中",large:"大",xLarge:"加大",xxLarge:"加加大",custom:"自订"},treemapTiling:{binary:"Binary",squarify:"Squarify",slice:"Slice",dice:"Dice",sliceDice:"Slice & Dice"},theme:{light:"亮",black:"暗"},hit:"命中",hits:"命中",details:"详细信息",stats:"统计信息",queryTime:"查询时间",totalSize:"总大小",pathBar:{placeholder:"过滤路径",modalTitle:"选择路径"},debug:"调试信息",debugDescription:"对调试除错有用的信息。 若您遇到bug或者想建议新功能，请提交新Issue到<a href='https://github.com/simon987/sist2/issues/new/choose'>这里</a>.",tagline:"标签栏",toast:{esConnErrTitle:"Elasticsearch连接错误",esConnErr:"sist2 web 模块连接Elasticsearch出错。查看服务日志以获取更多信息。",esQueryErrTitle:"查询错误",esQueryErr:"无法识别或执行查询，请查阅高级搜索文档。查看服务日志以获取更多信息。",dupeTagTitle:"重复标签",dupeTag:"该标签已存在于此文档。",copiedToClipboard:"复制到剪贴板"},saveTagModalTitle:"增加标签",saveTagPlaceholder:"标签名",confirm:"确认",indexPickerPlaceholder:"选择一个索引",sort:{relevance:"相关度",dateAsc:"日期（由旧到新）",dateDesc:"日期（由新到旧）",sizeAsc:"大小（从小到大）",sizeDesc:"大小（从大到小）",nameAsc:"名字（A-z）",nameDesc:"名字 （Z-a）",random:"随机"},d3:{mimeCount:"各类文件数量分布",mimeSize:"各类文件大小分布",dateHistogram:"文件修改时间分布",sizeHistogram:"文件大小分布"},indexPicker:{selectNone:"清空",selectAll:"全选",selectedIndex:"选中索引",selectedIndices:"选中索引"}}};i["default"].config.productionTip=!1,i["default"].use(Ua["a"]),i["default"].use(k["a"]);var Fa=new Ua["a"]({locale:"en",messages:Na});new i["default"]({router:Ba,store:gn,i18n:Fa,render:function(e){return e($)}}).$mount("#app")},"56e4":function(e,t,n){},"5a9f":function(e,t,n){"use strict";n("668a")},"5d2a":function(e,t,n){"use strict";n("6dd1")},"5ee9":function(e,t,n){"use strict";n("1f35")},"5faf":function(e,t,n){},"61b1":function(e,t,n){},"63bb":function(e,t,n){"use strict";n("61b1")},6417:function(e,t,n){},"658f":function(e,t,n){},"668a":function(e,t,n){},"6dd1":function(e,t,n){},7160:function(e,t,n){"use strict";n("35f0")},7191:function(e,t,n){"use strict";n("658f")},7352:function(e,t,n){},8021:function(e,t,n){"use strict";n("bddf")},"85ec":function(e,t,n){},"8bb7":function(e,t,n){"use strict";n("2f9b")},"8c1d":function(e,t,n){},9568:function(e,t,n){},"95ee":function(e,t,n){"use strict";n("d7f8")},9818:function(e,t,n){},a079:function(e,t,n){"use strict";n("bafa")},a44d:function(e,t,n){},a5dc:function(e,t,n){},a8cc:function(e,t,n){"use strict";n("1d7e")},a9ab:function(e,t,n){"use strict";n("5faf")},ac16:function(e,t,n){"use strict";n("0d24")},b397:function(e,t,n){},b3e2:function(e,t,n){"use strict";n("b397")},b48b:function(e,t,n){},b9df:function(e,t,n){"use strict";n("c69b")},bafa:function(e,t,n){},bddf:function(e,t,n){},c0fb:function(e,t,n){"use strict";n("8c1d")},c2e3:function(e,t,n){"use strict";n("c877")},c4ff:function(e,t,n){"use strict";n("d593")},c69b:function(e,t,n){},c877:function(e,t,n){},c919:function(e,t,n){"use strict";n("7352")},d593:function(e,t,n){},d7f8:function(e,t,n){},ddab:function(e,t,n){"use strict";n("6417")},e478:function(e,t,n){"use strict";n("3d86")},e5b6:function(e,t,n){},f093:function(e,t,n){"use strict";n("a5dc")},f2e9:function(e,t,n){"use strict";n("2b2c")}});